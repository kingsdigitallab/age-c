var or=Object.defineProperty;var Pt=t=>{throw TypeError(t)};var lr=(t,e,r)=>e in t?or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var pe=(t,e,r)=>lr(t,typeof e!="symbol"?e+"":e,r),Xe=(t,e,r)=>e.has(t)||Pt("Cannot "+r);var j=(t,e,r)=>(Xe(t,e,"read from private field"),r?r.call(t):e.get(t)),Y=(t,e,r)=>e.has(t)?Pt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),be=(t,e,r,n)=>(Xe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ue=(t,e,r)=>(Xe(t,e,"access private method"),r);import{o as ct,t as L,a as x,s as Q,j as Nt,d as J,p as it,q as wt,e as Pe}from"../chunks/C2j-l5i6.js";import{al as Mt,ah as ur,aC as cr,s as Ye,h as ue,aq as fr,an as hr,a as dr,b as vr,B as o,J as Bt,e as gr,r as xt,f as Je,d as Se,aw as _r,g as Dt,c as Ft,p as pr,aD as Wt,aA as qt,O as yr,z as st,aE as Ze,a4 as ot,_ as Et,aF as ft,aG as mr,aH as ht,aI as Ct,aJ as br,az as Sr,aK as Pr,af as wr,aL as xr,ap as Er,aM as Cr,k as dt,a8 as vt,aN as jt,am as kr,a2 as Ht,N as D,aO as Ar,ac as Ir,o as m,t as H,n as w,q as R,x as V,ad as G,v as re,w as ne,M as we,ab as se,W as Tr,u as Gt,aP as Or,aQ as kt,aR as Rr,y as Qe,ae as $e,aS as Lr}from"../chunks/UVmlV4Yz.js";import{a as Z,s as he,r as Qt,b as et,d as ze,e as Nr,c as At}from"../chunks/jxHuCRDN.js";import{i as K}from"../chunks/BJyl_5zF.js";import{p as T,r as Ke}from"../chunks/BQgDFjg5.js";import{b as ge}from"../chunks/BjP4yC46.js";import{c as te}from"../chunks/QnmZKVWG.js";import{o as Mr,a as Br}from"../chunks/otDHqS5j.js";import{t as zt,s as Dr,f as Fr}from"../chunks/B5gYRvgv.js";const Wr=[];function qr(t,e=!1){return je(t,new Map,"",Wr)}function je(t,e,r,n,i=null){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Mt(t)){var s=Array(t.length);e.set(t,s),i!==null&&e.set(i,s);for(var c=0;c<t.length;c+=1){var p=t[c];c in t&&(s[c]=je(p,e,r,n))}return s}if(ur(t)===cr){s={},e.set(t,s),i!==null&&e.set(i,s);for(var u in t)s[u]=je(t[u],e,r,n);return s}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return je(t.toJSON(),e,r,n,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function fe(t,e){return e}function jr(t,e,r,n){for(var i=[],a=e.length,s=0;s<a;s++)br(e[s].e,i,!0);var c=a>0&&i.length===0&&r!==null;if(c){var p=r.parentNode;Sr(p),p.append(r),n.clear(),ve(t,e[0].prev,e[a-1].next)}Pr(i,()=>{for(var u=0;u<a;u++){var l=e[u];c||(n.delete(l.k),ve(t,l.prev,l.next)),wr(l.e,!c)}})}function oe(t,e,r,n,i,a=null){var s=t,c={flags:e,items:new Map,first:null},p=(e&Wt)!==0;if(p){var u=t;s=ue?Ye(fr(u)):u.appendChild(hr())}ue&&dr();var l=null,b=!1,h=Bt(()=>{var f=r();return Mt(f)?f:f==null?[]:qt(f)});vr(()=>{var f=o(h),d=f.length;if(b&&d===0)return;b=d===0;let v=!1;if(ue){var C=s.data===gr;C!==(d===0)&&(s=xt(),Ye(s),Je(!1),v=!0)}if(ue){for(var g=null,_,S=0;S<d;S++){if(Se.nodeType===8&&Se.data===_r){s=Se,v=!0,Je(!1);break}var y=f[S],E=n(y,S);_=Kt(Se,c,g,null,y,E,S,i,e,r),c.items.set(E,_),g=_}d>0&&Ye(xt())}ue||Hr(f,c,s,i,e,n,r),a!==null&&(d===0?l?Dt(l):l=Ft(()=>a(s)):l!==null&&pr(l,()=>{l=null})),v&&Je(!0),o(h)}),ue&&(s=Se)}function Hr(t,e,r,n,i,a,s){var P,F,U,ee;var c=(i&mr)!==0,p=(i&(ht|ft))!==0,u=t.length,l=e.items,b=e.first,h=b,f,d=null,v,C=[],g=[],_,S,y,E;if(c)for(E=0;E<u;E+=1)_=t[E],S=a(_,E),y=l.get(S),y!==void 0&&((P=y.a)==null||P.measure(),(v??(v=new Set)).add(y));for(E=0;E<u;E+=1){if(_=t[E],S=a(_,E),y=l.get(S),y===void 0){var M=h?h.e.nodes_start:r;d=Kt(M,e,d,d===null?e.first:d.next,_,S,E,n,i,s),l.set(S,d),C=[],g=[],h=d.next;continue}if(p&&Gr(y,_,E,i),(y.e.f&Ze)!==0&&(Dt(y.e),c&&((F=y.a)==null||F.unfix(),(v??(v=new Set)).delete(y))),y!==h){if(f!==void 0&&f.has(y)){if(C.length<g.length){var B=g[0],A;d=B.prev;var I=C[0],N=C[C.length-1];for(A=0;A<C.length;A+=1)It(C[A],B,r);for(A=0;A<g.length;A+=1)f.delete(g[A]);ve(e,I.prev,N.next),ve(e,d,I),ve(e,N,B),h=B,d=N,E-=1,C=[],g=[]}else f.delete(y),It(y,h,r),ve(e,y.prev,y.next),ve(e,y,d===null?e.first:d.next),ve(e,d,y),d=y;continue}for(C=[],g=[];h!==null&&h.k!==S;)(h.e.f&Ze)===0&&(f??(f=new Set)).add(h),g.push(h),h=h.next;if(h===null)continue;y=h}C.push(y),d=y,h=y.next}if(h!==null||f!==void 0){for(var q=f===void 0?[]:qt(f);h!==null;)(h.e.f&Ze)===0&&q.push(h),h=h.next;var z=q.length;if(z>0){var k=(i&Wt)!==0&&u===0?r:null;if(c){for(E=0;E<z;E+=1)(U=q[E].a)==null||U.measure();for(E=0;E<z;E+=1)(ee=q[E].a)==null||ee.fix()}jr(e,q,k,l)}}c&&ot(()=>{var $;if(v!==void 0)for(y of v)($=y.a)==null||$.apply()}),Et.first=e.first&&e.first.e,Et.last=d&&d.e}function Gr(t,e,r,n){(n&ht)!==0&&Ct(t.v,e),(n&ft)!==0?Ct(t.i,r):t.i=r}function Kt(t,e,r,n,i,a,s,c,p,u){var l=(p&ht)!==0,b=(p&xr)===0,h=l?b?yr(i):st(i):i,f=(p&ft)===0?s:st(s),d={i:f,v:h,k:a,a:null,e:null,prev:r,next:n};try{return d.e=Ft(()=>c(t,h,f,u),ue),d.e.prev=r&&r.e,d.e.next=n&&n.e,r===null?e.first=d:(r.next=d,r.e.next=d.e),n!==null&&(n.prev=d,n.e.prev=d.e),d}finally{}}function It(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,a=t.e.nodes_start;a!==n;){var s=Er(a);i.before(a),a=s}}function ve(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Qr(t,e,r=e){var n=Cr();ct(t,"input",i=>{var a=i?t.defaultValue:t.value;if(a=rt(t)?nt(a):a,r(a),n&&a!==(a=e())){var s=t.selectionStart,c=t.selectionEnd;t.value=a??"",c!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(c,t.value.length))}}),(ue&&t.defaultValue!==t.value||dt(e)==null&&t.value)&&r(rt(t)?nt(t.value):t.value),vt(()=>{var i=e();rt(t)&&i===nt(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}const tt=new Set;function zr(t,e,r,n,i=n){var a=r.getAttribute("type")==="checkbox",s=t;let c=!1;if(e!==null)for(var p of e)s=s[p]??(s[p]=[]);s.push(r),ct(r,"change",()=>{var u=r.__value;a&&(u=Tt(s,u,r.checked)),i(u)},()=>i(a?[]:null)),vt(()=>{var u=n();if(ue&&r.defaultChecked!==r.checked){c=!0;return}a?(u=u||[],r.checked=u.includes(r.__value)):r.checked=jt(r.__value,u)}),kr(()=>{var u=s.indexOf(r);u!==-1&&s.splice(u,1)}),tt.has(s)||(tt.add(s),ot(()=>{s.sort((u,l)=>u.compareDocumentPosition(l)===4?-1:1),tt.delete(s)})),ot(()=>{if(c){var u;if(a)u=Tt(s,u,r.checked);else{var l=s.find(b=>b.checked);u=l==null?void 0:l.__value}i(u)}})}function Tt(t,e,r){for(var n=new Set,i=0;i<t.length;i+=1)t[i].checked&&n.add(t[i].__value);return r||n.delete(e),Array.from(n)}function rt(t){var e=t.type;return e==="number"||e==="range"}function nt(t){return t===""?null:+t}function Vt(t,e,r){if(t.multiple)return Xr(t,e);for(var n of t.options){var i=xe(n);if(jt(i,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Kr(t,e){Ht(()=>{var r=new MutationObserver(()=>{var n=t.__value;Vt(t,n)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Vr(t,e,r=e){var n=!0;ct(t,"change",i=>{var a=i?"[selected]":":checked",s;if(t.multiple)s=[].map.call(t.querySelectorAll(a),xe);else{var c=t.querySelector(a)??t.querySelector("option:not([disabled])");s=c&&xe(c)}r(s)}),Ht(()=>{var i=e();if(Vt(t,i,n),n&&i===void 0){var a=t.querySelector(":checked");a!==null&&(i=xe(a),r(i))}t.__value=i,n=!1}),Kr(t)}function Xr(t,e){for(var r of t.options)r.selected=~e.indexOf(xe(r))}function xe(t){return"__value"in t?t.__value:t.value}function Ur(t){D(t,t.v+1)}function Yr(t){let e=0,r=st(0),n;return()=>{Ar()&&(o(r),vt(()=>(e===0&&(n=dt(()=>t(()=>Ur(r)))),e+=1,()=>{Ir().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}var Jr=L('<li class="svelte-55kp84"><time class="year"> </time></li>'),Zr=L('<li class="svelte-55kp84"> </li>'),$r=L('<li class="svelte-55kp84"><a> </a></li>'),en=L('<ul class="svelte-55kp84"><li class="svelte-55kp84">Director</li> <!></ul>'),tn=L('<li class="svelte-55kp84"><a> </a></li>'),rn=L('<ul class="svelte-55kp84"></ul>'),nn=L('<ul class="svelte-55kp84"><!> <!></ul> <!> <!>',1),an=L('<li class="svelte-55kp84"><a> </a></li>'),sn=L('<ul class="svelte-55kp84"><li class="svelte-55kp84">Director</li> <!></ul>'),on=L('<li class="svelte-55kp84"><a> </a></li>'),ln=L('<ul class="svelte-55kp84"><li class="svelte-55kp84">Character</li> <!></ul>'),un=L("<!> <!>",1),cn=L("<li><a><strong> </strong></a> <!></li>"),fn=L("<ol></ol>");function hn(t,e){const r=T(e,"start",3,1);var n=fn();oe(n,21,()=>e.items,fe,(i,a)=>{var s=cn(),c=w(s),p=w(c),u=w(p,!0);m(p),m(c);var l=R(c,2);{var b=f=>{var d=nn(),v=V(d),C=w(v);{var g=A=>{var I=Jr(),N=w(I),q=w(N,!0);m(N),m(I),H(()=>{Z(N,"datetime",o(a).release.date),Q(q,o(a).release.year)}),x(A,I)};K(C,A=>{var I,N;(N=(I=o(a))==null?void 0:I.release)!=null&&N.year&&A(g)})}var _=R(C,2);{var S=A=>{var I=Zr(),N=w(I,!0);m(I),H(()=>Q(N,o(a).production.country)),x(A,I)};K(_,A=>{var I,N;(N=(I=o(a))==null?void 0:I.production)!=null&&N.country&&A(S)})}m(v);var y=R(v,2);{var E=A=>{var I=en(),N=R(w(I),2);oe(N,17,()=>o(a).director,fe,(q,z)=>{var k=$r(),P=w(k),F=w(P);m(P),m(k),H(()=>{Z(P,"href",`${ge}/person/${o(z).slug}`),Q(F,`${o(z).name??""} (${o(z).gender??""}, ${o(z).birthYear??""} - ${o(z).deathYear??""})`)}),x(q,k)}),m(I),x(A,I)};K(y,A=>{o(a).director&&o(a).director.length>0&&A(E)})}var M=R(y,2);{var B=A=>{var I=rn();oe(I,21,()=>o(a).character,fe,(N,q)=>{var z=tn();const k=G(()=>o(q).person);var P=w(z),F=w(P);m(P),m(z),H(()=>{var U,ee,$,le,ae;Z(P,"href",`${ge}/person/${(U=o(k))==null?void 0:U.slug}`),Q(F,`${((ee=o(k))==null?void 0:ee.name)??""}
									(${(($=o(k))==null?void 0:$.gender)??""}, ${((le=o(k))==null?void 0:le.birthYear)??""} - ${((ae=o(k))==null?void 0:ae.deathYear)??""})`)}),x(N,z)}),m(I),x(A,I)};K(M,A=>{o(a).character&&o(a).character.length>0&&A(B)})}x(f,d)},h=f=>{var d=un(),v=V(d);{var C=S=>{var y=sn(),E=R(w(y),2);oe(E,17,()=>o(a).director,fe,(M,B)=>{var A=an(),I=w(A),N=w(I,!0);m(I),m(A),H(()=>{var q;Z(I,"href",`${ge}/film/${o(B).slug}`),Q(N,(q=o(B).title)==null?void 0:q.native)}),x(M,A)}),m(y),x(S,y)};K(v,S=>{o(a).director&&o(a).director.length>0&&S(C)})}var g=R(v,2);{var _=S=>{var y=ln(),E=R(w(y),2);oe(E,17,()=>o(a).character,fe,(M,B)=>{var A=on();const I=G(()=>o(B).film);var N=w(A),q=w(N,!0);m(N),m(A),H(()=>{var z,k,P;Z(N,"href",`${ge}/film/${(z=o(I))==null?void 0:z.slug}`),Q(q,(P=(k=o(I))==null?void 0:k.title)==null?void 0:P.native)}),x(M,A)}),m(y),x(S,y)};K(g,S=>{o(a).character&&o(a).character.length>0&&S(_)})}x(f,d)};K(l,f=>{o(a).type==="film"?f(b):f(h,!1)})}m(s),H(()=>{Z(c,"href",`${ge}/${o(a).type}/${o(a).slug}`),Q(u,o(a).title)}),x(i,s)}),m(n),H(()=>Z(n,"start",r())),x(t,n)}function dn(t){return new Worker(""+new URL("../workers/worker-C-OzXuX6.js",import.meta.url).href,{name:t==null?void 0:t.name})}var vn=L("<option> </option>"),gn=L('<section class="grid"><div><button> </button></div> <form><fieldset role="group"><select name="sort-by" aria-label="Sort results by"><option selected disabled>Sort by</option><!></select> <button aria-label="Toggle sort order"> </button></fieldset></form></section>');function _n(t,e){re(e,!0);let r=T(e,"sortBy",15,""),n=T(e,"sortOrder",11,"asc");const i=G(()=>e.isLoading||e.isSearching||e.showSearch),a=G(()=>e.isLoading||e.isSearching);var s=gn(),c=w(s),p=w(c);p.__click=function(...g){var _;(_=e.onToggleFilters)==null||_.apply(this,g)};var u=w(p);m(p),m(c);var l=R(c,2),b=w(l),h=w(b);h.__change=function(...g){var _;(_=e.onSortByChange)==null||_.apply(this,g)};var f=w(h);f.value=f.__value="";var d=R(f);oe(d,17,()=>e.sortOptions,fe,(g,_)=>{var S=vn(),y={},E=w(S,!0);m(S),H(M=>{y!==(y=o(_))&&(S.value=(S.__value=o(_))??""),Q(E,M)},[()=>o(_).charAt(0).toUpperCase()+o(_).slice(1)]),x(g,S)}),m(h);var v=R(h,2);v.__click=function(...g){var _;(_=e.onSortOrderChange)==null||_.apply(this,g)};var C=w(v,!0);m(v),m(b),m(l),m(s),H(()=>{p.disabled=o(i),Q(u,`Filters (${e.searchFiltersCount??""})`),h.disabled=o(a),v.disabled=!r(),Q(C,n()==="asc"?"↑":"↓")}),Vr(h,r),x(t,s),ne()}Nt(["click","change"]);var pn=L('<label class="svelte-y5pyp5"><input type="checkbox"> <span> </span> <small> </small></label>'),yn=L('<section><details class="svelte-y5pyp5"><summary> </summary> <fieldset class="svelte-y5pyp5"></fieldset></details></section>'),mn=L('<aside tabindex="-1" class="svelte-y5pyp5"><h3>Filters</h3> <button class="close-search-filters-button svelte-y5pyp5" aria-label="Close search filters"><span aria-hidden="true">&times;</span></button> <!> <!></aside>');function bn(t,e){re(e,!0);const r=[],n=T(e,"searchFilters",31,()=>we({})),i=T(e,"children",3,null),a=G(()=>Object.entries(e.searchConfig[e.dataSource].aggregations));var s=J(),c=V(s);{var p=u=>{var l=mn(),b=R(w(l),2);b.__click=function(...C){var g;(g=e.onClose)==null||g.apply(this,C)};var h=R(b,2);{var f=C=>{var g=J(),_=V(g);he(_,i),x(C,g)};K(h,C=>{i()&&C(f)})}var d=R(h,2);{var v=C=>{var g=J(),_=V(g);oe(_,17,()=>o(a),fe,(S,y,E)=>{let M=()=>o(y)[0],B=()=>o(y)[1];var A=yn(),I=w(A),N=w(I),q=w(N,!0);m(N);var z=R(N,2);oe(z,21,()=>e.searchAggregations[M()].buckets,fe,(k,P)=>{var F=pn(),U=w(F);Qt(U);var ee;U.__change=function(...ie){var We;(We=e.onFiltersChange)==null||We.apply(this,ie)};var $=R(U,2),le=w($,!0);m($);var ae=R($,2),_e=w(ae);m(ae),m(F),H(()=>{ee!==(ee=o(P).key)&&(U.value=(U.__value=o(P).key)??""),Q(le,o(P).key),Q(_e,`(${o(P).doc_count??""})`)}),zr(r,[E],U,()=>(o(P).key,n()[M()]),ie=>n(n()[M()]=ie,!0)),x(k,F)}),m(z),m(I),m(A),H(()=>Q(q,B().title)),x(S,A)}),x(C,g)};K(d,C=>{e.searchAggregations&&C(v)})}m(l),zt(3,l,()=>Dr,()=>({axis:"x"})),x(u,l)};K(c,u=>{e.show&&u(p)})}x(t,s),ne()}Nt(["click","change"]);var Sn=L('<section><h2> </h2> <form><fieldset role="group"><input id="search-query" type="text"> <button type="submit">Search</button> <button type="reset" aria-label="Reset search">Reset</button></fieldset></form></section>');function Pn(t,e){re(e,!0);let r=T(e,"title",3,"Search"),n=T(e,"searchQuery",15,""),i=T(e,"minSearchQueryLength",3,3),a=G(()=>n().trim().length>=i());var s=Sn(),c=w(s),p=w(c,!0);m(c);var u=R(c,2),l=w(u),b=w(l);Qt(b);var h=R(b,2),f=R(h,2);m(l),m(u),m(s),H((d,v)=>{Q(p,r()),b.disabled=e.isLoading||e.isSearching,Z(b,"placeholder",d),Z(b,"aria-label",v),h.disabled=e.isLoading||!o(a),Z(h,"aria-label",o(a)?"Search":`Please enter at least ${i()} characters`),f.disabled=e.isLoading},[()=>`Enter a ${r().toLowerCase()} query...`,()=>`Enter a ${r().toLowerCase()} query...`]),it("submit",u,function(...d){var v;(v=e.onSearch)==null||v.apply(this,d)}),it("reset",u,function(...d){var v;(v=e.onReset)==null||v.apply(this,d)}),Qr(b,n),x(t,s),ne()}function wn(t){return typeof t=="function"}function xn(t){return t!==null&&typeof t=="object"}const En=["string","number","bigint","boolean"];function lt(t){return t==null||En.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>lt(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const Ee=Symbol("box"),gt=Symbol("is-writable");function Cn(t){return xn(t)&&Ee in t}function kn(t){return W.isBox(t)&&gt in t}function W(t){let e=se(we(t));return{[Ee]:!0,[gt]:!0,get current(){return o(e)},set current(r){D(e,r,!0)}}}function An(t,e){const r=G(t);return e?{[Ee]:!0,[gt]:!0,get current(){return o(r)},set current(n){e(n)}}:{[Ee]:!0,get current(){return t()}}}function In(t){return W.isBox(t)?t:wn(t)?W.with(t):W(t)}function Tn(t){return Object.entries(t).reduce((e,[r,n])=>W.isBox(n)?(W.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(i){n.current=i}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function On(t){return W.isWritableBox(t)?{[Ee]:!0,get current(){return t.current}}:t}W.from=In;W.with=An;W.flatten=Tn;W.readonly=On;W.isBox=Cn;W.isWritableBox=kn;function Rn(...t){return function(e){var r;for(const n of t)if(n){if(e.defaultPrevented)return;typeof n=="function"?n.call(this,e):(r=n.current)==null||r.call(this,e)}}}function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ye={},at,Ot;function Nn(){if(Ot)return at;Ot=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,c=/^\s+|\s+$/g,p=`
`,u="/",l="*",b="",h="comment",f="declaration";at=function(v,C){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];C=C||{};var g=1,_=1;function S(k){var P=k.match(e);P&&(g+=P.length);var F=k.lastIndexOf(p);_=~F?k.length-F:_+k.length}function y(){var k={line:g,column:_};return function(P){return P.position=new E(k),A(),P}}function E(k){this.start=k,this.end={line:g,column:_},this.source=C.source}E.prototype.content=v;function M(k){var P=new Error(C.source+":"+g+":"+_+": "+k);if(P.reason=k,P.filename=C.source,P.line=g,P.column=_,P.source=v,!C.silent)throw P}function B(k){var P=k.exec(v);if(P){var F=P[0];return S(F),v=v.slice(F.length),P}}function A(){B(r)}function I(k){var P;for(k=k||[];P=N();)P!==!1&&k.push(P);return k}function N(){var k=y();if(!(u!=v.charAt(0)||l!=v.charAt(1))){for(var P=2;b!=v.charAt(P)&&(l!=v.charAt(P)||u!=v.charAt(P+1));)++P;if(P+=2,b===v.charAt(P-1))return M("End of comment missing");var F=v.slice(2,P-2);return _+=2,S(F),v=v.slice(P),_+=2,k({type:h,comment:F})}}function q(){var k=y(),P=B(n);if(P){if(N(),!B(i))return M("property missing ':'");var F=B(a),U=k({type:f,property:d(P[0].replace(t,b)),value:F?d(F[0].replace(t,b)):b});return B(s),U}}function z(){var k=[];I(k);for(var P;P=q();)P!==!1&&(k.push(P),I(k));return k}return A(),z()};function d(v){return v?v.replace(c,b):b}return at}var Rt;function Mn(){if(Rt)return ye;Rt=1;var t=ye&&ye.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=r;var e=t(Nn());function r(n,i){var a=null;if(!n||typeof n!="string")return a;var s=(0,e.default)(n),c=typeof i=="function";return s.forEach(function(p){if(p.type==="declaration"){var u=p.property,l=p.value;c?i(u,l,p):l&&(a=a||{},a[u]=l)}}),a}return ye}var Bn=Mn();const Lt=Ln(Bn),Dn=Lt.default||Lt,Fn=/\d/,Wn=["-","_","/","."];function qn(t=""){if(!Fn.test(t))return t!==t.toLowerCase()}function jn(t){const e=[];let r="",n,i;for(const a of t){const s=Wn.includes(a);if(s===!0){e.push(r),r="",n=void 0;continue}const c=qn(a);if(i===!1){if(n===!1&&c===!0){e.push(r),r=a,n=c;continue}if(n===!0&&c===!1&&r.length>1){const p=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=p+a,n=c;continue}}r+=a,n=c,i=s}return e.push(r),e}function Xt(t){return t?jn(t).map(e=>Gn(e)).join(""):""}function Hn(t){return Qn(Xt(t||""))}function Gn(t){return t?t[0].toUpperCase()+t.slice(1):""}function Qn(t){return t?t[0].toLowerCase()+t.slice(1):""}function qe(t){if(!t)return{};const e={};function r(n,i){if(n.startsWith("-moz-")||n.startsWith("-webkit-")||n.startsWith("-ms-")||n.startsWith("-o-")){e[Xt(n)]=i;return}if(n.startsWith("--")){e[n]=i;return}e[Hn(n)]=i}return Dn(t,r),e}function zn(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function Kn(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Vn=Kn(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Xn(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Vn(e)}: ${t[e]};`).join(`
`)}function Ut(t={}){return Xn(t).replace(`
`," ")}const Un={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Ut(Un);function Yn(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function Ve(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const n=t[r];for(const i in n){const a=e[i],s=n[i],c=typeof a=="function",p=typeof s=="function";if(c&&Yn(i)){const u=a,l=s;e[i]=Rn(u,l)}else if(c&&p)e[i]=zn(a,s);else if(i==="class"){const u=lt(a),l=lt(s);u&&l?e[i]=et(a,s):u?e[i]=et(a):l&&(e[i]=et(s))}else if(i==="style"){const u=typeof a=="object",l=typeof s=="object",b=typeof a=="string",h=typeof s=="string";if(u&&l)e[i]={...a,...s};else if(u&&h){const f=qe(s);e[i]={...a,...f}}else if(b&&l){const f=qe(a);e[i]={...f,...s}}else if(b&&h){const f=qe(a),d=qe(s);e[i]={...f,...d}}else u?e[i]=a:l?e[i]=s:b?e[i]=a:h&&(e[i]=s)}else e[i]=s!==void 0?s:a}}return typeof e.style=="object"&&(e.style=Ut(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const Jn=typeof window<"u"?window:void 0;function Zn(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var me,Ce;class $n{constructor(e={}){Y(this,me);Y(this,Ce);const{window:r=Jn,document:n=r==null?void 0:r.document}=e;r!==void 0&&(be(this,me,n),be(this,Ce,Yr(i=>{const a=wt(r,"focusin",i),s=wt(r,"focusout",i);return()=>{a(),s()}})))}get current(){var e;return(e=j(this,Ce))==null||e.call(this),j(this,me)?Zn(j(this,me)):null}}me=new WeakMap,Ce=new WeakMap;new $n;function ea(t,e){switch(t){case"post":Gt(e);break;case"pre":Tr(e);break}}function Yt(t,e,r,n={}){const{lazy:i=!1}=n;let a=!i,s=Array.isArray(t)?[]:void 0;ea(e,()=>{const c=Array.isArray(t)?t.map(u=>u()):t();if(!a){a=!0,s=c;return}const p=dt(()=>r(c,s));return s=c,p})}function Jt(t,e,r){Yt(t,"post",e,r)}function ta(t,e,r){Yt(t,"pre",e,r)}Jt.pre=ta;var ke,ce;class ra{constructor(e){Y(this,ke);Y(this,ce);be(this,ke,e),be(this,ce,Symbol(e))}get key(){return j(this,ce)}exists(){return Or(j(this,ce))}get(){const e=kt(j(this,ce));if(e===void 0)throw new Error(`Context "${j(this,ke)}" not found`);return e}getOr(e){const r=kt(j(this,ce));return r===void 0?e:r}set(e){return Rr(j(this,ce),e)}}ke=new WeakMap,ce=new WeakMap;function na(t){Gt(()=>()=>{t()})}function _t({id:t,ref:e,deps:r=()=>!0,onRefChange:n,getRootNode:i}){Jt([()=>t.current,r],([a])=>{const s=(i==null?void 0:i())??document,c=s==null?void 0:s.getElementById(a);c?e.current=c:e.current=null,n==null||n(e.current)}),na(()=>{e.current=null,n==null||n(null)})}const aa="ArrowDown",Zt="ArrowLeft",$t="ArrowRight",ia="ArrowUp",sa="End",er="Enter",oa="Home",tr=" ";function la(t){return window.getComputedStyle(t).getPropertyValue("direction")}function ua(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Zt:$t,vertical:aa}[e]}function ca(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?$t:Zt,vertical:ia}[e]}function fa(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:ua(t,e),prevKey:ca(t,e)}}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function Fe(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function ha(){}const da="data-pagination-root",va="data-pagination-page",ga="data-pagination-prev",_a="data-pagination-next";var Ae,Ie,Te,Oe,Re,Le,Ne;class pa{constructor(e){pe(this,"opts");Y(this,Ae,G(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current)));Y(this,Ie,G(()=>{const e=(this.opts.page.current-1)*this.opts.perPage.current,r=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e+1,end:r}}));Y(this,Te,G(()=>ba({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current})));Y(this,Oe,G(()=>this.opts.page.current>1));Y(this,Re,G(()=>this.opts.page.current<this.totalPages));Y(this,Le,G(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current})));Y(this,Ne,G(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[da]:""})));this.opts=e,_t(e)}get totalPages(){return o(j(this,Ae))}set totalPages(e){D(j(this,Ae),e)}get range(){return o(j(this,Ie))}set range(e){D(j(this,Ie),e)}get pages(){return o(j(this,Te))}set pages(e){D(j(this,Te),e)}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll("[data-pagination-page]")):[]}getButtonNode(e){const r=this.opts.ref.current;if(r)return r.querySelector(`[data-pagination-${e}]`)}get hasPrevPage(){return o(j(this,Oe))}set hasPrevPage(e){D(j(this,Oe),e)}get hasNextPage(){return o(j(this,Re))}set hasNextPage(e){D(j(this,Re),e)}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}get snippetProps(){return o(j(this,Le))}set snippetProps(e){D(j(this,Le),e)}get props(){return o(j(this,Ne))}set props(e){D(j(this,Ne),e)}}Ae=new WeakMap,Ie=new WeakMap,Te=new WeakMap,Oe=new WeakMap,Re=new WeakMap,Le=new WeakMap,Ne=new WeakMap;var He,Me;class ya{constructor(e,r){pe(this,"opts");pe(this,"root");Y(this,He,G(()=>this.opts.page.current.value===this.root.opts.page.current));Y(this,Me,G(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":o(j(this,He))?"":void 0,[va]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,_t(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===tr||e.key===er?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):rr(e,this.opts.ref.current,this.root)}get props(){return o(j(this,Me))}set props(e){D(j(this,Me),e)}}He=new WeakMap,Me=new WeakMap;var Be,ut,Ge,De;class ma{constructor(e,r){Y(this,Be);pe(this,"opts");pe(this,"root");Y(this,Ge,G(()=>this.opts.disabled.current?!0:this.opts.type==="prev"?!this.root.hasPrevPage:this.opts.type==="next"?!this.root.hasNextPage:!1));Y(this,De,G(()=>({id:this.opts.id.current,[ga]:this.opts.type==="prev"?"":void 0,[_a]:this.opts.type==="next"?"":void 0,disabled:o(j(this,Ge)),onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,_t(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&Ue(this,Be,ut).call(this)}onkeydown(e){e.key===tr||e.key===er?(e.preventDefault(),Ue(this,Be,ut).call(this)):rr(e,this.opts.ref.current,this.root)}get props(){return o(j(this,De))}set props(e){D(j(this,De),e)}}Be=new WeakSet,ut=function(){this.opts.type==="prev"?this.root.prevPage():this.root.nextPage()},Ge=new WeakMap,De=new WeakMap;function rr(t,e,r){if(!e||!r.opts.ref.current)return;const n=r.getPageTriggerNodes(),i=r.getButtonNode("next"),a=r.getButtonNode("prev");a&&n.unshift(a),i&&n.push(i);const s=n.indexOf(e),c=la(r.opts.ref.current),{nextKey:p,prevKey:u}=fa(c,r.opts.orientation.current),l=r.opts.loop.current;let h={[p]:s+1,[u]:s-1,[oa]:0,[sa]:n.length-1}[t.key];if(h===void 0)return;t.preventDefault(),h<0&&l?h=n.length-1:h===n.length&&l&&(h=0);const f=n[h];f&&f.focus()}function ba({page:t=1,totalPages:e,siblingCount:r=1}){const n=[],i=new Set([1,e]),a=3+r,s=e-2-r;if(a>s)for(let l=2;l<=e-1;l++)i.add(l);else if(t<a)for(let l=2;l<=Math.min(a,e);l++)i.add(l);else if(t>s)for(let l=e-1;l>=Math.max(s,2);l--)i.add(l);else for(let l=Math.max(t-r,2);l<=Math.min(t+r,e);l++)i.add(l);function c(l){n.push({type:"page",value:l,key:`page-${l}`})}function p(){const l=Fe();n.push({type:"ellipsis",key:`ellipsis-${l}`})}let u=0;for(const l of Array.from(i).sort((b,h)=>b-h))l-u>1&&p(),c(l),u=l;return n}const pt=new ra("Pagination.Root");function Sa(t){return pt.set(new pa(t))}function Pa(t){return new ya(t,pt.get())}function nr(t){return new ma(t,pt.get())}var wa=L("<div><!></div>");function xa(t,e){re(e,!0);let r=T(e,"id",19,Fe),n=T(e,"perPage",3,1),i=T(e,"page",15,1),a=T(e,"ref",15,null),s=T(e,"siblingCount",3,1),c=T(e,"onPageChange",3,ha),p=T(e,"loop",3,!1),u=T(e,"orientation",3,"horizontal"),l=Ke(e,["$$slots","$$events","$$legacy","id","count","perPage","page","ref","siblingCount","onPageChange","loop","orientation","child","children"]);const b=Sa({id:W.with(()=>r()),count:W.with(()=>e.count),perPage:W.with(()=>n()),page:W.with(()=>i(),g=>{var _;i(g),(_=c())==null||_(g)}),loop:W.with(()=>p()),siblingCount:W.with(()=>s()),orientation:W.with(()=>u()),ref:W.with(()=>a(),g=>a(g))}),h=G(()=>Ve(l,b.props));var f=J(),d=V(f);{var v=g=>{var _=J(),S=V(_),y=Bt(()=>({props:o(h),...b.snippetProps}));he(S,()=>e.child,()=>o(y)),x(g,_)},C=g=>{var _=wa();let S;var y=w(_);he(y,()=>e.children??Qe,()=>b.snippetProps),m(_),H(()=>S=ze(_,S,{...o(h)})),x(g,_)};K(d,g=>{e.child?g(v):g(C,!1)})}x(t,f),ne()}var Ea=L("<button><!></button>");function Ca(t,e){re(e,!0);let r=T(e,"id",19,Fe),n=T(e,"ref",15,null),i=T(e,"type",3,"button"),a=T(e,"disabled",3,!1),s=Ke(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const c=nr({type:"prev",id:W.with(()=>r()),ref:W.with(()=>n(),f=>n(f)),disabled:W.with(()=>!!a())}),p=G(()=>Ve(s,c.props,{type:i()}));var u=J(),l=V(u);{var b=f=>{var d=J(),v=V(d);he(v,()=>e.child,()=>({props:o(p)})),x(f,d)},h=f=>{var d=Ea();let v;var C=w(d);he(C,()=>e.children??Qe),m(d),H(()=>v=ze(d,v,{...o(p)})),x(f,d)};K(l,f=>{e.child?f(b):f(h,!1)})}x(t,u),ne()}var ka=L("<button><!></button>");function Aa(t,e){re(e,!0);let r=T(e,"id",19,Fe),n=T(e,"ref",15,null),i=T(e,"type",3,"button"),a=T(e,"disabled",3,!1),s=Ke(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const c=nr({type:"next",id:W.with(()=>r()),ref:W.with(()=>n(),f=>n(f)),disabled:W.with(()=>!!a())}),p=G(()=>Ve(s,c.props,{type:i()}));var u=J(),l=V(u);{var b=f=>{var d=J(),v=V(d);he(v,()=>e.child,()=>({props:o(p)})),x(f,d)},h=f=>{var d=ka();let v;var C=w(d);he(C,()=>e.children??Qe),m(d),H(()=>v=ze(d,v,{...o(p)})),x(f,d)};K(l,f=>{e.child?f(b):f(h,!1)})}x(t,u),ne()}var Ia=L("<button><!></button>");function Ta(t,e){re(e,!0);let r=T(e,"id",19,Fe),n=T(e,"type",3,"button"),i=T(e,"ref",15,null),a=T(e,"disabled",3,!1),s=Ke(e,["$$slots","$$events","$$legacy","id","page","child","children","type","ref","disabled"]);const c=Pa({id:W.with(()=>r()),page:W.with(()=>e.page),ref:W.with(()=>i(),f=>i(f)),disabled:W.with(()=>!!a())}),p=G(()=>Ve(s,c.props,{type:n()}));var u=J(),l=V(u);{var b=f=>{var d=J(),v=V(d);he(v,()=>e.child,()=>({props:o(p)})),x(f,d)},h=f=>{var d=Ia();let v;var C=w(d);{var g=S=>{var y=J(),E=V(y);he(E,()=>e.children??Qe),x(S,y)},_=S=>{var y=Pe();H(()=>Q(y,e.page.value)),x(S,y)};K(C,S=>{e.children?S(g):S(_,!1)})}m(d),H(()=>v=ze(d,v,{...o(p)})),x(f,d)};K(l,f=>{e.child?f(b):f(h,!1)})}x(t,u),ne()}var Oa=L('<span class="search-pagination-ellipsis">&#x2026;</span>'),Ra=L('<div class="search-pagination svelte-1nlbm53"><!> <div class="search-pagination-pages svelte-1nlbm53"></div> <!></div> <p class="search-pagination-info svelte-1nlbm53"><small> </small></p>',1);function La(t,e){var r=J(),n=V(r);{var i=a=>{var s=J(),c=V(s);te(c,()=>xa,(p,u)=>{u(p,{get count(){return e.count},get page(){return e.page},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(b,h)=>{let f=()=>h==null?void 0:h().pages,d=()=>h==null?void 0:h().range;var v=Ra(),C=V(v),g=w(C);te(g,()=>Ca,(B,A)=>{A(B,{class:"search-pagination-prev-button",children:(I,N)=>{$e();var q=Pe("❮");x(I,q)},$$slots:{default:!0}})});var _=R(g,2);oe(_,21,f,B=>B.key,(B,A,I,N)=>{var q=J(),z=V(q);{var k=F=>{var U=Oa();x(F,U)},P=F=>{var U=J(),ee=V(U);te(ee,()=>Ta,($,le)=>{le($,{get page(){return o(A)},class:"search-pagination-page",children:(ae,_e)=>{$e();var ie=Pe();H(()=>Q(ie,o(A).value)),x(ae,ie)},$$slots:{default:!0}})}),x(F,U)};K(z,F=>{o(A).type==="ellipsis"?F(k):F(P,!1)})}x(B,q)}),m(_);var S=R(_,2);te(S,()=>Aa,(B,A)=>{A(B,{class:"search-pagination-next-button",children:(I,N)=>{$e();var q=Pe("❯");x(I,q)},$$slots:{default:!0}})}),m(C);var y=R(C,2),E=w(y),M=w(E);m(E),m(y),H(()=>Q(M,`Showing ${d().start??""} - ${d().end??""}`)),x(b,v)},$$slots:{default:!0}})}),x(a,s)};K(n,a=>{!e.isLoading&&!e.isSearching&&a(i)})}x(t,r)}var Na=L("<li><a> </a></li>"),Ma=L("<ol></ol>");function ar(t,e){const r=T(e,"start",3,1);var n=Ma();oe(n,21,()=>e.items,fe,(i,a)=>{var s=Na(),c=w(s),p=w(c,!0);m(c),m(s),H(()=>{Z(c,"href",`${ge}/${o(a).type}/${o(a).slug}`),Q(p,o(a).title)}),x(i,s)}),m(n),H(()=>Z(n,"start",r())),x(t,n)}var Ba=L('for <span class="search-query svelte-1fa2eaa"> </span>',1),Da=L(" <!>",1),Fa=L("<p> </p>"),Wa=L('<section><hgroup><h2> </h2> <small aria-live="polite"><!></small></hgroup> <div aria-live="polite"><!></div></section>');function qa(t,e){re(e,!0);const r=T(e,"title",3,"Results"),n=T(e,"SearchResultsItemsComponent",3,ar),i=G(()=>{var g,_;return(g=e.searchPagination)!=null&&g.page&&((_=e.searchPagination)!=null&&_.per_page)?e.searchPagination.page*e.searchPagination.per_page-e.searchPagination.per_page+1:1});var a=Wa(),s=w(a),c=w(s),p=w(c,!0);m(c);var u=R(c,2),l=w(u);{var b=g=>{var _=Da(),S=V(_),y=R(S);{var E=M=>{var B=Ba(),A=R(V(B)),I=w(A,!0);m(A),H(()=>Q(I,e.searchQuery)),x(M,B)};K(y,M=>{e.searchQuery&&M(E)})}H(M=>Q(S,`${M??""} found `),[()=>e.searchPagination.total.toLocaleString()]),x(g,_)},h=g=>{var _=Pe("No results");x(g,_)};K(l,g=>{var _;((_=e.searchPagination)==null?void 0:_.total)!==void 0?g(b):g(h,!1)})}m(u),m(s);var f=R(s,2),d=w(f);{var v=g=>{var _=J(),S=V(_);te(S,n,(y,E)=>{E(y,{get items(){return e.searchItems},get start(){return o(i)}})}),x(g,_)},C=(g,_)=>{{var S=y=>{var E=Fa(),M=w(E);m(E),H(()=>Q(M,`No results found for "${e.searchQuery??""}"`)),x(y,E)};K(g,y=>{e.searchQuery&&!e.isSearching&&y(S)},_)}};K(d,g=>{var _;((_=e.searchItems)==null?void 0:_.length)>0?g(v):g(C,!1)})}m(f),m(a),H(()=>{Q(p,r()),Z(u,"aria-busy",e.isLoading||e.isSearching)}),zt(3,f,()=>Fr),x(t,a),ne()}function ja(t,e){re(e,!0),it("keydown",Lr,r=>{(r.ctrlKey||r.metaKey)&&(r.key==="k"||r.key==="K")&&(r.preventDefault(),e.onToggleSearch())}),ne()}var Ha=L("<p>Loading...</p>"),Ga=L("<p>Searching...</p>"),Qa=L('<p role="alert" class="error"> </p>'),za=L("<section><!> <!></section>");function Ka(t,e){var r=za(),n=w(r);{var i=p=>{var u=Ha();Z(u,"aria-busy",!0),x(p,u)},a=(p,u)=>{{var l=b=>{var h=Ga();Z(h,"aria-busy",!0),x(b,h)};K(p,b=>{e.isSearching&&b(l)},u)}};K(n,p=>{e.isLoading?p(i):p(a,!1)})}var s=R(n,2);{var c=p=>{var u=Qa(),l=w(u,!0);m(u),H(()=>Q(l,e.searchError)),x(p,u)};K(s,p=>{e.searchError&&p(c)})}m(r),x(t,r)}var Va=L("<!> <article><h1> </h1> <!> <!> <!> <!> <!></article> <!>",1);function Xa(t,e){re(e,!0);const r=T(e,"SearchShortcutsComponent",3,ja),n=T(e,"SearchStatusComponent",3,Ka),i=T(e,"SearchInputComponent",3,Pn),a=T(e,"SearchFiltersComponent",3,bn),s=T(e,"SearchControlsComponent",3,_n),c=T(e,"SearchResultsComponent",3,qa),p=T(e,"SearchResultsItemsComponent",3,ar),u=T(e,"SearchPaginationComponent",3,La),l=T(e,"minSearchQueryLength",3,3);let b=se(""),h=se(1),f=se(we({}));const d=G(()=>Object.keys(o(f)).length),v=we({options:[...new Set(Object.values(e.searchConfig[e.dataSource].sortings).map(O=>O.field))],by:"",order:"asc"});let C=se("idle"),g=se(null),_=se(null),S=se(we({query:"",results:[]}));const y=G(()=>["idle","load"].includes(o(C)));let E=se(!1),M=se(!1);const B=G(()=>{var O,X;return((X=(O=o(S).results)==null?void 0:O.data)==null?void 0:X.aggregations)||{}}),A=G(()=>{var O,X;return((X=(O=o(S).results)==null?void 0:O.data)==null?void 0:X.items)||[]});let I=G(()=>{var O;return((O=o(S).results)==null?void 0:O.pagination)||{}});Mr(()=>{N()});function N(){o(C)!=="ready"&&(D(C,"load"),D(g,new dn,!0),o(g).onmessage=O=>{const{action:X,payload:de}=O.data;D(_,null),X==="ready"?(D(C,"ready"),k()):X==="results"&&(D(S,{query:de.query,results:de.results},!0),D(E,!1))},o(g).onerror=O=>{D(_,"An error occurred while searching"),D(C,"ready"),console.error("Search worker error:",O)},o(g).postMessage({action:"load",payload:{basePath:ge,dataSource:e.dataSource}}))}function q(){D(M,!o(M))}function z(O){O.preventDefault(),D(h,1),D(E,!0),k()}function k(){var O;o(C)==="ready"&&((O=o(g))==null||O.postMessage({action:"search",payload:{dataSource:e.dataSource,query:o(b),page:o(h),sort:v.by?`${v.by}_${v.order}`:void 0,filters:qr(o(f))}}))}function P(){D(b,""),D(h,1),D(f,{},!0),k()}function F(O){O.preventDefault(),D(h,1),k()}function U(O){O.preventDefault(),v.order=v.order==="asc"?"desc":"asc",k()}function ee(O){D(h,O,!0),k()}function $(){D(h,1),k()}Br(()=>{setTimeout(()=>{o(g)&&(o(g).terminate(),D(g,null))},1e3)});var le=Va(),ae=V(le);te(ae,r,(O,X)=>{X(O,{onToggleSearch:q})});var _e=R(ae,2),ie=w(_e),We=w(ie,!0);m(ie);var yt=R(ie,2);te(yt,n,(O,X)=>{X(O,{get isLoading(){return o(y)},get isSearching(){return o(E)},get searchError(){return o(_)}})});var mt=R(yt,2);te(mt,i,(O,X)=>{X(O,{get isLoading(){return o(y)},get isSearching(){return o(E)},get minSearchQueryLength(){return l()},onSearch:z,onReset:P,get searchQuery(){return o(b)},set searchQuery(de){D(b,de,!0)}})});var bt=R(mt,2);te(bt,s,(O,X)=>{X(O,{get isLoading(){return o(y)},get isSearching(){return o(E)},get showSearch(){return o(M)},get searchFiltersCount(){return o(d)},get sortOptions(){return v.options},get sortOrder(){return v.order},onToggleFilters:q,onSortByChange:F,onSortOrderChange:U,get sortBy(){return v.by},set sortBy(de){v.by=de}})});var St=R(bt,2);te(St,c,(O,X)=>{X(O,{get isLoading(){return o(y)},get isSearching(){return o(E)},get searchQuery(){return o(S).query},get searchItems(){return o(A)},get searchPagination(){return o(I)},get SearchResultsItemsComponent(){return p()}})});var ir=R(St,2);te(ir,u,(O,X)=>{X(O,{get isLoading(){return o(y)},get isSearching(){return o(E)},get count(){return o(I).total},get page(){return o(I).page},get perPage(){return o(I).per_page},onPageChange:ee})}),m(_e);var sr=R(_e,2);te(sr,a,(O,X)=>{X(O,{get show(){return o(M)},get searchAggregations(){return o(B)},get searchConfig(){return e.searchConfig},get dataSource(){return e.dataSource},onClose:()=>D(M,!1),onFiltersChange:$,get searchFilters(){return o(f)},set searchFilters(de){D(f,de,!0)}})}),H(()=>Q(We,e.title)),x(t,le),ne()}var Ua=L('<section class="hero svelte-mye4q9"><h1 class="svelte-mye4q9"> </h1> <p class="svelte-mye4q9"> </p> <a role="button">About</a></section> <!>',1);function si(t,e){re(e,!0);const r="corpus";var n=Ua(),i=V(n),a=w(i),s=w(a,!0);m(a);var c=R(a,2),p=w(c,!0);m(c);var u=R(c,2);Z(u,"href",`${ge??""}/about`),m(i);var l=R(i,2);Xa(l,{get dataSource(){return r},searchConfig:Nr,title:"Explore the dataset",SearchResultsItemsComponent:hn}),H(()=>{Q(s,At.siteTitle),Q(p,At.siteDescription)}),x(t,n),ne()}export{si as component};
