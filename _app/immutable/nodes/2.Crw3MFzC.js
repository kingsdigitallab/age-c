var or=Object.defineProperty;var Pt=t=>{throw TypeError(t)};var lr=(t,e,r)=>e in t?or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _e=(t,e,r)=>lr(t,typeof e!="symbol"?e+"":e,r),Xe=(t,e,r)=>e.has(t)||Pt("Cannot "+r);var W=(t,e,r)=>(Xe(t,e,"read from private field"),r?r.call(t):e.get(t)),Y=(t,e,r)=>e.has(t)?Pt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Se=(t,e,r,n)=>(Xe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ue=(t,e,r)=>(Xe(t,e,"access private method"),r);import{o as ct,t as N,a as E,s as z,j as Nt,d as J,p as it,q as wt,e as me}from"../chunks/C2j-l5i6.js";import{al as Mt,ah as ur,aC as cr,s as Ye,h as ue,aq as fr,an as hr,a as dr,b as vr,B as o,J as Bt,e as gr,r as xt,f as Je,d as Pe,aw as pr,g as Dt,c as Ft,p as _r,aD as Wt,aA as jt,O as yr,z as st,aE as Ze,a4 as ot,_ as Et,aF as ft,aG as mr,aH as ht,aI as Ct,aJ as br,az as Sr,aK as Pr,af as wr,aL as xr,ap as Er,aM as Cr,k as dt,a8 as vt,aN as qt,am as kr,a2 as Ht,N as M,aO as Ar,ac as Ir,o as b,t as q,n as x,q as L,x as X,ad as H,v as re,w as ne,M as we,ab as se,W as Tr,u as Gt,aP as Or,aQ as kt,aR as Rr,y as ze,ae as $e,aS as Lr}from"../chunks/UVmlV4Yz.js";import{a as Z,s as he,r as zt,b as et,d as Ke,e as Nr,c as At}from"../chunks/jxHuCRDN.js";import{i as Q}from"../chunks/BJyl_5zF.js";import{p as T,r as Qe}from"../chunks/BQgDFjg5.js";import{b as ve}from"../chunks/BPuPdFQ9.js";import{c as te}from"../chunks/QnmZKVWG.js";import{o as Mr,a as Br}from"../chunks/otDHqS5j.js";import{t as Kt,s as Dr,f as Fr}from"../chunks/B5gYRvgv.js";const Wr=[];function jr(t,e=!1){return qe(t,new Map,"",Wr)}function qe(t,e,r,n,i=null){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Mt(t)){var s=Array(t.length);e.set(t,s),i!==null&&e.set(i,s);for(var c=0;c<t.length;c+=1){var g=t[c];c in t&&(s[c]=qe(g,e,r,n))}return s}if(ur(t)===cr){s={},e.set(t,s),i!==null&&e.set(i,s);for(var u in t)s[u]=qe(t[u],e,r,n);return s}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return qe(t.toJSON(),e,r,n,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function fe(t,e){return e}function qr(t,e,r,n){for(var i=[],a=e.length,s=0;s<a;s++)br(e[s].e,i,!0);var c=a>0&&i.length===0&&r!==null;if(c){var g=r.parentNode;Sr(g),g.append(r),n.clear(),de(t,e[0].prev,e[a-1].next)}Pr(i,()=>{for(var u=0;u<a;u++){var l=e[u];c||(n.delete(l.k),de(t,l.prev,l.next)),wr(l.e,!c)}})}function oe(t,e,r,n,i,a=null){var s=t,c={flags:e,items:new Map,first:null},g=(e&Wt)!==0;if(g){var u=t;s=ue?Ye(fr(u)):u.appendChild(hr())}ue&&dr();var l=null,S=!1,f=Bt(()=>{var d=r();return Mt(d)?d:d==null?[]:jt(d)});vr(()=>{var d=o(f),h=d.length;if(S&&h===0)return;S=h===0;let v=!1;if(ue){var y=s.data===gr;y!==(h===0)&&(s=xt(),Ye(s),Je(!1),v=!0)}if(ue){for(var p=null,m,w=0;w<h;w++){if(Pe.nodeType===8&&Pe.data===pr){s=Pe,v=!0,Je(!1);break}var _=d[w],C=n(_,w);m=Qt(Pe,c,p,null,_,C,w,i,e,r),c.items.set(C,m),p=m}h>0&&Ye(xt())}ue||Hr(d,c,s,i,e,n,r),a!==null&&(h===0?l?Dt(l):l=Ft(()=>a(s)):l!==null&&_r(l,()=>{l=null})),v&&Je(!0),o(f)}),ue&&(s=Pe)}function Hr(t,e,r,n,i,a,s){var P,B,U,ee;var c=(i&mr)!==0,g=(i&(ht|ft))!==0,u=t.length,l=e.items,S=e.first,f=S,d,h=null,v,y=[],p=[],m,w,_,C;if(c)for(C=0;C<u;C+=1)m=t[C],w=a(m,C),_=l.get(w),_!==void 0&&((P=_.a)==null||P.measure(),(v??(v=new Set)).add(_));for(C=0;C<u;C+=1){if(m=t[C],w=a(m,C),_=l.get(w),_===void 0){var K=f?f.e.nodes_start:r;h=Qt(K,e,h,h===null?e.first:h.next,m,w,C,n,i,s),l.set(w,h),y=[],p=[],f=h.next;continue}if(g&&Gr(_,m,C,i),(_.e.f&Ze)!==0&&(Dt(_.e),c&&((B=_.a)==null||B.unfix(),(v??(v=new Set)).delete(_))),_!==f){if(d!==void 0&&d.has(_)){if(y.length<p.length){var j=p[0],A;h=j.prev;var I=y[0],R=y[y.length-1];for(A=0;A<y.length;A+=1)It(y[A],j,r);for(A=0;A<p.length;A+=1)d.delete(p[A]);de(e,I.prev,R.next),de(e,h,I),de(e,R,j),f=j,h=R,C-=1,y=[],p=[]}else d.delete(_),It(_,f,r),de(e,_.prev,_.next),de(e,_,h===null?e.first:h.next),de(e,h,_),h=_;continue}for(y=[],p=[];f!==null&&f.k!==w;)(f.e.f&Ze)===0&&(d??(d=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue;_=f}y.push(_),h=_,f=_.next}if(f!==null||d!==void 0){for(var F=d===void 0?[]:jt(d);f!==null;)(f.e.f&Ze)===0&&F.push(f),f=f.next;var G=F.length;if(G>0){var k=(i&Wt)!==0&&u===0?r:null;if(c){for(C=0;C<G;C+=1)(U=F[C].a)==null||U.measure();for(C=0;C<G;C+=1)(ee=F[C].a)==null||ee.fix()}qr(e,F,k,l)}}c&&ot(()=>{var $;if(v!==void 0)for(_ of v)($=_.a)==null||$.apply()}),Et.first=e.first&&e.first.e,Et.last=h&&h.e}function Gr(t,e,r,n){(n&ht)!==0&&Ct(t.v,e),(n&ft)!==0?Ct(t.i,r):t.i=r}function Qt(t,e,r,n,i,a,s,c,g,u){var l=(g&ht)!==0,S=(g&xr)===0,f=l?S?yr(i):st(i):i,d=(g&ft)===0?s:st(s),h={i:d,v:f,k:a,a:null,e:null,prev:r,next:n};try{return h.e=Ft(()=>c(t,f,d,u),ue),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?e.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function It(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,a=t.e.nodes_start;a!==n;){var s=Er(a);i.before(a),a=s}}function de(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function zr(t,e,r=e){var n=Cr();ct(t,"input",i=>{var a=i?t.defaultValue:t.value;if(a=rt(t)?nt(a):a,r(a),n&&a!==(a=e())){var s=t.selectionStart,c=t.selectionEnd;t.value=a??"",c!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(c,t.value.length))}}),(ue&&t.defaultValue!==t.value||dt(e)==null&&t.value)&&r(rt(t)?nt(t.value):t.value),vt(()=>{var i=e();rt(t)&&i===nt(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}const tt=new Set;function Kr(t,e,r,n,i=n){var a=r.getAttribute("type")==="checkbox",s=t;let c=!1;if(e!==null)for(var g of e)s=s[g]??(s[g]=[]);s.push(r),ct(r,"change",()=>{var u=r.__value;a&&(u=Tt(s,u,r.checked)),i(u)},()=>i(a?[]:null)),vt(()=>{var u=n();if(ue&&r.defaultChecked!==r.checked){c=!0;return}a?(u=u||[],r.checked=u.includes(r.__value)):r.checked=qt(r.__value,u)}),kr(()=>{var u=s.indexOf(r);u!==-1&&s.splice(u,1)}),tt.has(s)||(tt.add(s),ot(()=>{s.sort((u,l)=>u.compareDocumentPosition(l)===4?-1:1),tt.delete(s)})),ot(()=>{if(c){var u;if(a)u=Tt(s,u,r.checked);else{var l=s.find(S=>S.checked);u=l==null?void 0:l.__value}i(u)}})}function Tt(t,e,r){for(var n=new Set,i=0;i<t.length;i+=1)t[i].checked&&n.add(t[i].__value);return r||n.delete(e),Array.from(n)}function rt(t){var e=t.type;return e==="number"||e==="range"}function nt(t){return t===""?null:+t}function Vt(t,e,r){if(t.multiple)return Xr(t,e);for(var n of t.options){var i=xe(n);if(qt(i,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Qr(t,e){Ht(()=>{var r=new MutationObserver(()=>{var n=t.__value;Vt(t,n)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Vr(t,e,r=e){var n=!0;ct(t,"change",i=>{var a=i?"[selected]":":checked",s;if(t.multiple)s=[].map.call(t.querySelectorAll(a),xe);else{var c=t.querySelector(a)??t.querySelector("option:not([disabled])");s=c&&xe(c)}r(s)}),Ht(()=>{var i=e();if(Vt(t,i,n),n&&i===void 0){var a=t.querySelector(":checked");a!==null&&(i=xe(a),r(i))}t.__value=i,n=!1}),Qr(t)}function Xr(t,e){for(var r of t.options)r.selected=~e.indexOf(xe(r))}function xe(t){return"__value"in t?t.__value:t.value}function Ur(t){M(t,t.v+1)}function Yr(t){let e=0,r=st(0),n;return()=>{Ar()&&(o(r),vt(()=>(e===0&&(n=dt(()=>t(()=>Ur(r)))),e+=1,()=>{Ir().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}var Jr=N('<li class="svelte-55kp84"><time class="year"> </time></li>'),Zr=N('<li class="svelte-55kp84"> </li>'),$r=N('<li class="svelte-55kp84"><a> </a></li>'),en=N('<ul class="svelte-55kp84"><li class="svelte-55kp84">Director</li> <!></ul>'),tn=N('<li class="svelte-55kp84"><a> </a></li>'),rn=N('<ul class="svelte-55kp84"></ul>'),nn=N('<ul class="svelte-55kp84"><!> <!></ul> <!> <!>',1),an=N('<li class="svelte-55kp84"><a> </a></li>'),sn=N('<ul class="svelte-55kp84"><li class="svelte-55kp84">Director</li> <!></ul>'),on=N('<li class="svelte-55kp84"><a> </a></li>'),ln=N('<ul class="svelte-55kp84"><li class="svelte-55kp84">Character</li> <!></ul>'),un=N("<!> <!>",1),cn=N("<li><a><strong> </strong></a> <!></li>"),fn=N("<ol></ol>");function hn(t,e){const r=T(e,"start",3,1);var n=fn();oe(n,21,()=>e.items,fe,(i,a)=>{var s=cn(),c=x(s),g=x(c),u=x(g,!0);b(g),b(c);var l=L(c,2);{var S=d=>{var h=nn(),v=X(h),y=x(v);{var p=A=>{var I=Jr(),R=x(I),F=x(R,!0);b(R),b(I),q(()=>{Z(R,"datetime",o(a).release.date),z(F,o(a).release.year)}),E(A,I)};Q(y,A=>{var I,R;(R=(I=o(a))==null?void 0:I.release)!=null&&R.year&&A(p)})}var m=L(y,2);{var w=A=>{var I=Zr(),R=x(I,!0);b(I),q(()=>z(R,o(a).production.country)),E(A,I)};Q(m,A=>{var I,R;(R=(I=o(a))==null?void 0:I.production)!=null&&R.country&&A(w)})}b(v);var _=L(v,2);{var C=A=>{var I=en(),R=L(x(I),2);oe(R,17,()=>o(a).director,fe,(F,G)=>{var k=$r(),P=x(k),B=x(P);b(P),b(k),q(()=>{Z(P,"href",`${ve}/person/${o(G).slug}`),z(B,`${o(G).name??""} (${o(G).gender??""}, ${o(G).birthYear??""} - ${o(G).deathYear??""})`)}),E(F,k)}),b(I),E(A,I)};Q(_,A=>{o(a).director&&o(a).director.length>0&&A(C)})}var K=L(_,2);{var j=A=>{var I=rn();oe(I,21,()=>o(a).character,fe,(R,F)=>{var G=tn();const k=H(()=>o(F).person);var P=x(G),B=x(P);b(P),b(G),q(()=>{var U,ee,$,le,ae;Z(P,"href",`${ve}/person/${(U=o(k))==null?void 0:U.slug}`),z(B,`${((ee=o(k))==null?void 0:ee.name)??""}
									(${(($=o(k))==null?void 0:$.gender)??""}, ${((le=o(k))==null?void 0:le.birthYear)??""} - ${((ae=o(k))==null?void 0:ae.deathYear)??""})`)}),E(R,G)}),b(I),E(A,I)};Q(K,A=>{o(a).character&&o(a).character.length>0&&A(j)})}E(d,h)},f=d=>{var h=un(),v=X(h);{var y=w=>{var _=sn(),C=L(x(_),2);oe(C,17,()=>o(a).director,fe,(K,j)=>{var A=an(),I=x(A),R=x(I,!0);b(I),b(A),q(()=>{var F;Z(I,"href",`${ve}/film/${o(j).slug}`),z(R,(F=o(j).title)==null?void 0:F.native)}),E(K,A)}),b(_),E(w,_)};Q(v,w=>{o(a).director&&o(a).director.length>0&&w(y)})}var p=L(v,2);{var m=w=>{var _=ln(),C=L(x(_),2);oe(C,17,()=>o(a).character,fe,(K,j)=>{var A=on();const I=H(()=>o(j).film);var R=x(A),F=x(R,!0);b(R),b(A),q(()=>{var G,k,P;Z(R,"href",`${ve}/film/${(G=o(I))==null?void 0:G.slug}`),z(F,(P=(k=o(I))==null?void 0:k.title)==null?void 0:P.native)}),E(K,A)}),b(_),E(w,_)};Q(p,w=>{o(a).character&&o(a).character.length>0&&w(m)})}E(d,h)};Q(l,d=>{o(a).type==="film"?d(S):d(f,!1)})}b(s),q(()=>{Z(c,"href",`${ve}/${o(a).type}/${o(a).slug}`),z(u,o(a).title)}),E(i,s)}),b(n),q(()=>Z(n,"start",r())),E(t,n)}function dn(t){return new Worker(""+new URL("../workers/worker-C-OzXuX6.js",import.meta.url).href,{name:t==null?void 0:t.name})}var vn=N("<option> </option>"),gn=N('<section class="grid"><div><button> </button></div> <form><fieldset role="group"><select name="sort-by" aria-label="Sort results by"><option selected disabled>Sort by</option><!></select> <button aria-label="Toggle sort order"> </button></fieldset></form></section>');function pn(t,e){re(e,!0);let r=T(e,"sortBy",15,""),n=T(e,"sortOrder",11,"asc");const i=H(()=>e.isLoading||e.isSearching||e.showSearch),a=H(()=>e.isLoading||e.isSearching);var s=gn(),c=x(s),g=x(c);g.__click=function(...p){var m;(m=e.onToggleFilters)==null||m.apply(this,p)};var u=x(g);b(g),b(c);var l=L(c,2),S=x(l),f=x(S);f.__change=function(...p){var m;(m=e.onSortByChange)==null||m.apply(this,p)};var d=x(f);d.value=d.__value="";var h=L(d);oe(h,17,()=>e.sortOptions,fe,(p,m)=>{var w=vn(),_={},C=x(w,!0);b(w),q(K=>{_!==(_=o(m))&&(w.value=(w.__value=o(m))??""),z(C,K)},[()=>o(m).charAt(0).toUpperCase()+o(m).slice(1)]),E(p,w)}),b(f);var v=L(f,2);v.__click=function(...p){var m;(m=e.onSortOrderChange)==null||m.apply(this,p)};var y=x(v,!0);b(v),b(S),b(l),b(s),q(()=>{g.disabled=o(i),z(u,`Filters (${e.searchFiltersCount??""})`),f.disabled=o(a),v.disabled=!r(),z(y,n()==="asc"?"↑":"↓")}),Vr(f,r),E(t,s),ne()}Nt(["click","change"]);var _n=N('<label class="svelte-y5pyp5"><input type="checkbox"> <span> </span> <small> </small></label>'),yn=N('<section><details class="svelte-y5pyp5"><summary> </summary> <fieldset class="svelte-y5pyp5"></fieldset></details></section>'),mn=N('<aside tabindex="-1" class="svelte-y5pyp5"><h3>Filters</h3> <button class="close-search-filters-button svelte-y5pyp5" aria-label="Close search filters"><span aria-hidden="true">&times;</span></button> <!> <!></aside>');function bn(t,e){re(e,!0);const r=[],n=T(e,"searchFilters",31,()=>we({})),i=T(e,"children",3,null),a=H(()=>Object.entries(e.searchConfig[e.dataSource].aggregations));var s=J(),c=X(s);{var g=u=>{var l=mn(),S=L(x(l),2);S.__click=function(...y){var p;(p=e.onClose)==null||p.apply(this,y)};var f=L(S,2);{var d=y=>{var p=J(),m=X(p);he(m,i),E(y,p)};Q(f,y=>{i()&&y(d)})}var h=L(f,2);{var v=y=>{var p=J(),m=X(p);oe(m,17,()=>o(a),fe,(w,_,C)=>{let K=()=>o(_)[0],j=()=>o(_)[1];var A=yn(),I=x(A),R=x(I),F=x(R,!0);b(R);var G=L(R,2);oe(G,21,()=>e.searchAggregations[K()].buckets,fe,(k,P)=>{var B=_n(),U=x(B);zt(U);var ee;U.__change=function(...ie){var We;(We=e.onFiltersChange)==null||We.apply(this,ie)};var $=L(U,2),le=x($,!0);b($);var ae=L($,2),pe=x(ae);b(ae),b(B),q(()=>{ee!==(ee=o(P).key)&&(U.value=(U.__value=o(P).key)??""),z(le,o(P).key),z(pe,`(${o(P).doc_count??""})`)}),Kr(r,[C],U,()=>(o(P).key,n()[K()]),ie=>n(n()[K()]=ie,!0)),E(k,B)}),b(G),b(I),b(A),q(()=>z(F,j().title)),E(w,A)}),E(y,p)};Q(h,y=>{e.searchAggregations&&y(v)})}b(l),Kt(3,l,()=>Dr,()=>({axis:"x"})),E(u,l)};Q(c,u=>{e.show&&u(g)})}E(t,s),ne()}Nt(["click","change"]);var Sn=N('<section><h2> </h2> <form><fieldset role="group"><input id="search-query" type="text"> <button type="submit">Search</button> <button type="reset" aria-label="Reset search">Reset</button></fieldset></form></section>');function Pn(t,e){re(e,!0);let r=T(e,"title",3,"Search"),n=T(e,"searchQuery",15,""),i=T(e,"minSearchQueryLength",3,3),a=H(()=>n().trim().length>=i());var s=Sn(),c=x(s),g=x(c,!0);b(c);var u=L(c,2),l=x(u),S=x(l);zt(S);var f=L(S,2),d=L(f,2);b(l),b(u),b(s),q((h,v)=>{z(g,r()),S.disabled=e.isLoading||e.isSearching,Z(S,"placeholder",h),Z(S,"aria-label",v),f.disabled=e.isLoading||!o(a),Z(f,"aria-label",o(a)?"Search":`Please enter at least ${i()} characters`),d.disabled=e.isLoading},[()=>`Enter a ${r().toLowerCase()} query...`,()=>`Enter a ${r().toLowerCase()} query...`]),it("submit",u,function(...h){var v;(v=e.onSearch)==null||v.apply(this,h)}),it("reset",u,function(...h){var v;(v=e.onReset)==null||v.apply(this,h)}),zr(S,n),E(t,s),ne()}function wn(t){return typeof t=="function"}function xn(t){return t!==null&&typeof t=="object"}const En=["string","number","bigint","boolean"];function lt(t){return t==null||En.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>lt(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const Ee=Symbol("box"),gt=Symbol("is-writable");function Cn(t){return xn(t)&&Ee in t}function kn(t){return D.isBox(t)&&gt in t}function D(t){let e=se(we(t));return{[Ee]:!0,[gt]:!0,get current(){return o(e)},set current(r){M(e,r,!0)}}}function An(t,e){const r=H(t);return e?{[Ee]:!0,[gt]:!0,get current(){return o(r)},set current(n){e(n)}}:{[Ee]:!0,get current(){return t()}}}function In(t){return D.isBox(t)?t:wn(t)?D.with(t):D(t)}function Tn(t){return Object.entries(t).reduce((e,[r,n])=>D.isBox(n)?(D.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(i){n.current=i}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function On(t){return D.isWritableBox(t)?{[Ee]:!0,get current(){return t.current}}:t}D.from=In;D.with=An;D.flatten=Tn;D.readonly=On;D.isBox=Cn;D.isWritableBox=kn;function Rn(...t){return function(e){var r;for(const n of t)if(n){if(e.defaultPrevented)return;typeof n=="function"?n.call(this,e):(r=n.current)==null||r.call(this,e)}}}function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ye={},at,Ot;function Nn(){if(Ot)return at;Ot=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,c=/^\s+|\s+$/g,g=`
`,u="/",l="*",S="",f="comment",d="declaration";at=function(v,y){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];y=y||{};var p=1,m=1;function w(k){var P=k.match(e);P&&(p+=P.length);var B=k.lastIndexOf(g);m=~B?k.length-B:m+k.length}function _(){var k={line:p,column:m};return function(P){return P.position=new C(k),A(),P}}function C(k){this.start=k,this.end={line:p,column:m},this.source=y.source}C.prototype.content=v;function K(k){var P=new Error(y.source+":"+p+":"+m+": "+k);if(P.reason=k,P.filename=y.source,P.line=p,P.column=m,P.source=v,!y.silent)throw P}function j(k){var P=k.exec(v);if(P){var B=P[0];return w(B),v=v.slice(B.length),P}}function A(){j(r)}function I(k){var P;for(k=k||[];P=R();)P!==!1&&k.push(P);return k}function R(){var k=_();if(!(u!=v.charAt(0)||l!=v.charAt(1))){for(var P=2;S!=v.charAt(P)&&(l!=v.charAt(P)||u!=v.charAt(P+1));)++P;if(P+=2,S===v.charAt(P-1))return K("End of comment missing");var B=v.slice(2,P-2);return m+=2,w(B),v=v.slice(P),m+=2,k({type:f,comment:B})}}function F(){var k=_(),P=j(n);if(P){if(R(),!j(i))return K("property missing ':'");var B=j(a),U=k({type:d,property:h(P[0].replace(t,S)),value:B?h(B[0].replace(t,S)):S});return j(s),U}}function G(){var k=[];I(k);for(var P;P=F();)P!==!1&&(k.push(P),I(k));return k}return A(),G()};function h(v){return v?v.replace(c,S):S}return at}var Rt;function Mn(){if(Rt)return ye;Rt=1;var t=ye&&ye.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=r;var e=t(Nn());function r(n,i){var a=null;if(!n||typeof n!="string")return a;var s=(0,e.default)(n),c=typeof i=="function";return s.forEach(function(g){if(g.type==="declaration"){var u=g.property,l=g.value;c?i(u,l,g):l&&(a=a||{},a[u]=l)}}),a}return ye}var Bn=Mn();const Lt=Ln(Bn),Dn=Lt.default||Lt,Fn=/\d/,Wn=["-","_","/","."];function jn(t=""){if(!Fn.test(t))return t!==t.toLowerCase()}function qn(t){const e=[];let r="",n,i;for(const a of t){const s=Wn.includes(a);if(s===!0){e.push(r),r="",n=void 0;continue}const c=jn(a);if(i===!1){if(n===!1&&c===!0){e.push(r),r=a,n=c;continue}if(n===!0&&c===!1&&r.length>1){const g=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=g+a,n=c;continue}}r+=a,n=c,i=s}return e.push(r),e}function Xt(t){return t?qn(t).map(e=>Gn(e)).join(""):""}function Hn(t){return zn(Xt(t||""))}function Gn(t){return t?t[0].toUpperCase()+t.slice(1):""}function zn(t){return t?t[0].toLowerCase()+t.slice(1):""}function je(t){if(!t)return{};const e={};function r(n,i){if(n.startsWith("-moz-")||n.startsWith("-webkit-")||n.startsWith("-ms-")||n.startsWith("-o-")){e[Xt(n)]=i;return}if(n.startsWith("--")){e[n]=i;return}e[Hn(n)]=i}return Dn(t,r),e}function Kn(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function Qn(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Vn=Qn(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Xn(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Vn(e)}: ${t[e]};`).join(`
`)}function Ut(t={}){return Xn(t).replace(`
`," ")}const Un={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Ut(Un);function Yn(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function Ve(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const n=t[r];for(const i in n){const a=e[i],s=n[i],c=typeof a=="function",g=typeof s=="function";if(c&&Yn(i)){const u=a,l=s;e[i]=Rn(u,l)}else if(c&&g)e[i]=Kn(a,s);else if(i==="class"){const u=lt(a),l=lt(s);u&&l?e[i]=et(a,s):u?e[i]=et(a):l&&(e[i]=et(s))}else if(i==="style"){const u=typeof a=="object",l=typeof s=="object",S=typeof a=="string",f=typeof s=="string";if(u&&l)e[i]={...a,...s};else if(u&&f){const d=je(s);e[i]={...a,...d}}else if(S&&l){const d=je(a);e[i]={...d,...s}}else if(S&&f){const d=je(a),h=je(s);e[i]={...d,...h}}else u?e[i]=a:l?e[i]=s:S?e[i]=a:f&&(e[i]=s)}else e[i]=s!==void 0?s:a}}return typeof e.style=="object"&&(e.style=Ut(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const Jn=typeof window<"u"?window:void 0;function Zn(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var be,Ce;class $n{constructor(e={}){Y(this,be);Y(this,Ce);const{window:r=Jn,document:n=r==null?void 0:r.document}=e;r!==void 0&&(Se(this,be,n),Se(this,Ce,Yr(i=>{const a=wt(r,"focusin",i),s=wt(r,"focusout",i);return()=>{a(),s()}})))}get current(){var e;return(e=W(this,Ce))==null||e.call(this),W(this,be)?Zn(W(this,be)):null}}be=new WeakMap,Ce=new WeakMap;new $n;function ea(t,e){switch(t){case"post":Gt(e);break;case"pre":Tr(e);break}}function Yt(t,e,r,n={}){const{lazy:i=!1}=n;let a=!i,s=Array.isArray(t)?[]:void 0;ea(e,()=>{const c=Array.isArray(t)?t.map(u=>u()):t();if(!a){a=!0,s=c;return}const g=dt(()=>r(c,s));return s=c,g})}function Jt(t,e,r){Yt(t,"post",e,r)}function ta(t,e,r){Yt(t,"pre",e,r)}Jt.pre=ta;var ke,ce;class ra{constructor(e){Y(this,ke);Y(this,ce);Se(this,ke,e),Se(this,ce,Symbol(e))}get key(){return W(this,ce)}exists(){return Or(W(this,ce))}get(){const e=kt(W(this,ce));if(e===void 0)throw new Error(`Context "${W(this,ke)}" not found`);return e}getOr(e){const r=kt(W(this,ce));return r===void 0?e:r}set(e){return Rr(W(this,ce),e)}}ke=new WeakMap,ce=new WeakMap;function na(t){Gt(()=>()=>{t()})}function pt({id:t,ref:e,deps:r=()=>!0,onRefChange:n,getRootNode:i}){Jt([()=>t.current,r],([a])=>{const s=(i==null?void 0:i())??document,c=s==null?void 0:s.getElementById(a);c?e.current=c:e.current=null,n==null||n(e.current)}),na(()=>{e.current=null,n==null||n(null)})}const aa="ArrowDown",Zt="ArrowLeft",$t="ArrowRight",ia="ArrowUp",sa="End",er="Enter",oa="Home",tr=" ";function la(t){return window.getComputedStyle(t).getPropertyValue("direction")}function ua(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Zt:$t,vertical:aa}[e]}function ca(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?$t:Zt,vertical:ia}[e]}function fa(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:ua(t,e),prevKey:ca(t,e)}}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function Fe(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function ha(){}const da="data-pagination-root",va="data-pagination-page",ga="data-pagination-prev",pa="data-pagination-next";var Ae,Ie,Te,Oe,Re,Le,Ne;class _a{constructor(e){_e(this,"opts");Y(this,Ae,H(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current)));Y(this,Ie,H(()=>{const e=(this.opts.page.current-1)*this.opts.perPage.current,r=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e+1,end:r}}));Y(this,Te,H(()=>ba({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current})));Y(this,Oe,H(()=>this.opts.page.current>1));Y(this,Re,H(()=>this.opts.page.current<this.totalPages));Y(this,Le,H(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current})));Y(this,Ne,H(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[da]:""})));this.opts=e,pt(e)}get totalPages(){return o(W(this,Ae))}set totalPages(e){M(W(this,Ae),e)}get range(){return o(W(this,Ie))}set range(e){M(W(this,Ie),e)}get pages(){return o(W(this,Te))}set pages(e){M(W(this,Te),e)}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll("[data-pagination-page]")):[]}getButtonNode(e){const r=this.opts.ref.current;if(r)return r.querySelector(`[data-pagination-${e}]`)}get hasPrevPage(){return o(W(this,Oe))}set hasPrevPage(e){M(W(this,Oe),e)}get hasNextPage(){return o(W(this,Re))}set hasNextPage(e){M(W(this,Re),e)}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}get snippetProps(){return o(W(this,Le))}set snippetProps(e){M(W(this,Le),e)}get props(){return o(W(this,Ne))}set props(e){M(W(this,Ne),e)}}Ae=new WeakMap,Ie=new WeakMap,Te=new WeakMap,Oe=new WeakMap,Re=new WeakMap,Le=new WeakMap,Ne=new WeakMap;var He,Me;class ya{constructor(e,r){_e(this,"opts");_e(this,"root");Y(this,He,H(()=>this.opts.page.current.value===this.root.opts.page.current));Y(this,Me,H(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":o(W(this,He))?"":void 0,[va]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,pt(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===tr||e.key===er?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):rr(e,this.opts.ref.current,this.root)}get props(){return o(W(this,Me))}set props(e){M(W(this,Me),e)}}He=new WeakMap,Me=new WeakMap;var Be,ut,Ge,De;class ma{constructor(e,r){Y(this,Be);_e(this,"opts");_e(this,"root");Y(this,Ge,H(()=>this.opts.disabled.current?!0:this.opts.type==="prev"?!this.root.hasPrevPage:this.opts.type==="next"?!this.root.hasNextPage:!1));Y(this,De,H(()=>({id:this.opts.id.current,[ga]:this.opts.type==="prev"?"":void 0,[pa]:this.opts.type==="next"?"":void 0,disabled:o(W(this,Ge)),onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,pt(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&Ue(this,Be,ut).call(this)}onkeydown(e){e.key===tr||e.key===er?(e.preventDefault(),Ue(this,Be,ut).call(this)):rr(e,this.opts.ref.current,this.root)}get props(){return o(W(this,De))}set props(e){M(W(this,De),e)}}Be=new WeakSet,ut=function(){this.opts.type==="prev"?this.root.prevPage():this.root.nextPage()},Ge=new WeakMap,De=new WeakMap;function rr(t,e,r){if(!e||!r.opts.ref.current)return;const n=r.getPageTriggerNodes(),i=r.getButtonNode("next"),a=r.getButtonNode("prev");a&&n.unshift(a),i&&n.push(i);const s=n.indexOf(e),c=la(r.opts.ref.current),{nextKey:g,prevKey:u}=fa(c,r.opts.orientation.current),l=r.opts.loop.current;let f={[g]:s+1,[u]:s-1,[oa]:0,[sa]:n.length-1}[t.key];if(f===void 0)return;t.preventDefault(),f<0&&l?f=n.length-1:f===n.length&&l&&(f=0);const d=n[f];d&&d.focus()}function ba({page:t=1,totalPages:e,siblingCount:r=1}){const n=[],i=new Set([1,e]),a=3+r,s=e-2-r;if(a>s)for(let l=2;l<=e-1;l++)i.add(l);else if(t<a)for(let l=2;l<=Math.min(a,e);l++)i.add(l);else if(t>s)for(let l=e-1;l>=Math.max(s,2);l--)i.add(l);else for(let l=Math.max(t-r,2);l<=Math.min(t+r,e);l++)i.add(l);function c(l){n.push({type:"page",value:l,key:`page-${l}`})}function g(){const l=Fe();n.push({type:"ellipsis",key:`ellipsis-${l}`})}let u=0;for(const l of Array.from(i).sort((S,f)=>S-f))l-u>1&&g(),c(l),u=l;return n}const _t=new ra("Pagination.Root");function Sa(t){return _t.set(new _a(t))}function Pa(t){return new ya(t,_t.get())}function nr(t){return new ma(t,_t.get())}var wa=N("<div><!></div>");function xa(t,e){re(e,!0);let r=T(e,"id",19,Fe),n=T(e,"perPage",3,1),i=T(e,"page",15,1),a=T(e,"ref",15,null),s=T(e,"siblingCount",3,1),c=T(e,"onPageChange",3,ha),g=T(e,"loop",3,!1),u=T(e,"orientation",3,"horizontal"),l=Qe(e,["$$slots","$$events","$$legacy","id","count","perPage","page","ref","siblingCount","onPageChange","loop","orientation","child","children"]);const S=Sa({id:D.with(()=>r()),count:D.with(()=>e.count),perPage:D.with(()=>n()),page:D.with(()=>i(),p=>{var m;i(p),(m=c())==null||m(p)}),loop:D.with(()=>g()),siblingCount:D.with(()=>s()),orientation:D.with(()=>u()),ref:D.with(()=>a(),p=>a(p))}),f=H(()=>Ve(l,S.props));var d=J(),h=X(d);{var v=p=>{var m=J(),w=X(m),_=Bt(()=>({props:o(f),...S.snippetProps}));he(w,()=>e.child,()=>o(_)),E(p,m)},y=p=>{var m=wa();let w;var _=x(m);he(_,()=>e.children??ze,()=>S.snippetProps),b(m),q(()=>w=Ke(m,w,{...o(f)})),E(p,m)};Q(h,p=>{e.child?p(v):p(y,!1)})}E(t,d),ne()}var Ea=N("<button><!></button>");function Ca(t,e){re(e,!0);let r=T(e,"id",19,Fe),n=T(e,"ref",15,null),i=T(e,"type",3,"button"),a=T(e,"disabled",3,!1),s=Qe(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const c=nr({type:"prev",id:D.with(()=>r()),ref:D.with(()=>n(),d=>n(d)),disabled:D.with(()=>!!a())}),g=H(()=>Ve(s,c.props,{type:i()}));var u=J(),l=X(u);{var S=d=>{var h=J(),v=X(h);he(v,()=>e.child,()=>({props:o(g)})),E(d,h)},f=d=>{var h=Ea();let v;var y=x(h);he(y,()=>e.children??ze),b(h),q(()=>v=Ke(h,v,{...o(g)})),E(d,h)};Q(l,d=>{e.child?d(S):d(f,!1)})}E(t,u),ne()}var ka=N("<button><!></button>");function Aa(t,e){re(e,!0);let r=T(e,"id",19,Fe),n=T(e,"ref",15,null),i=T(e,"type",3,"button"),a=T(e,"disabled",3,!1),s=Qe(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const c=nr({type:"next",id:D.with(()=>r()),ref:D.with(()=>n(),d=>n(d)),disabled:D.with(()=>!!a())}),g=H(()=>Ve(s,c.props,{type:i()}));var u=J(),l=X(u);{var S=d=>{var h=J(),v=X(h);he(v,()=>e.child,()=>({props:o(g)})),E(d,h)},f=d=>{var h=ka();let v;var y=x(h);he(y,()=>e.children??ze),b(h),q(()=>v=Ke(h,v,{...o(g)})),E(d,h)};Q(l,d=>{e.child?d(S):d(f,!1)})}E(t,u),ne()}var Ia=N("<button><!></button>");function Ta(t,e){re(e,!0);let r=T(e,"id",19,Fe),n=T(e,"type",3,"button"),i=T(e,"ref",15,null),a=T(e,"disabled",3,!1),s=Qe(e,["$$slots","$$events","$$legacy","id","page","child","children","type","ref","disabled"]);const c=Pa({id:D.with(()=>r()),page:D.with(()=>e.page),ref:D.with(()=>i(),d=>i(d)),disabled:D.with(()=>!!a())}),g=H(()=>Ve(s,c.props,{type:n()}));var u=J(),l=X(u);{var S=d=>{var h=J(),v=X(h);he(v,()=>e.child,()=>({props:o(g)})),E(d,h)},f=d=>{var h=Ia();let v;var y=x(h);{var p=w=>{var _=J(),C=X(_);he(C,()=>e.children??ze),E(w,_)},m=w=>{var _=me();q(()=>z(_,e.page.value)),E(w,_)};Q(y,w=>{e.children?w(p):w(m,!1)})}b(h),q(()=>v=Ke(h,v,{...o(g)})),E(d,h)};Q(l,d=>{e.child?d(S):d(f,!1)})}E(t,u),ne()}var Oa=N('<span class="search-pagination-ellipsis">&#x2026;</span>'),Ra=N('<div class="search-pagination svelte-1nlbm53"><!> <div class="search-pagination-pages svelte-1nlbm53"></div> <!></div> <p class="search-pagination-info svelte-1nlbm53"><small> </small></p>',1);function La(t,e){var r=J(),n=X(r);{var i=a=>{var s=J(),c=X(s);te(c,()=>xa,(g,u)=>{u(g,{get count(){return e.count},get page(){return e.page},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(S,f)=>{let d=()=>f==null?void 0:f().pages,h=()=>f==null?void 0:f().range;var v=Ra(),y=X(v),p=x(y);te(p,()=>Ca,(j,A)=>{A(j,{class:"search-pagination-prev-button",children:(I,R)=>{$e();var F=me("❮");E(I,F)},$$slots:{default:!0}})});var m=L(p,2);oe(m,21,d,j=>j.key,(j,A,I,R)=>{var F=J(),G=X(F);{var k=B=>{var U=Oa();E(B,U)},P=B=>{var U=J(),ee=X(U);te(ee,()=>Ta,($,le)=>{le($,{get page(){return o(A)},class:"search-pagination-page",children:(ae,pe)=>{$e();var ie=me();q(()=>z(ie,o(A).value)),E(ae,ie)},$$slots:{default:!0}})}),E(B,U)};Q(G,B=>{o(A).type==="ellipsis"?B(k):B(P,!1)})}E(j,F)}),b(m);var w=L(m,2);te(w,()=>Aa,(j,A)=>{A(j,{class:"search-pagination-next-button",children:(I,R)=>{$e();var F=me("❯");E(I,F)},$$slots:{default:!0}})}),b(y);var _=L(y,2),C=x(_),K=x(C);b(C),b(_),q(()=>z(K,`Showing ${h().start??""} - ${h().end??""}`)),E(S,v)},$$slots:{default:!0}})}),E(a,s)};Q(n,a=>{!e.isLoading&&!e.isSearching&&a(i)})}E(t,r)}var Na=N("<li><a> </a></li>"),Ma=N("<ol></ol>");function ar(t,e){const r=T(e,"start",3,1);var n=Ma();oe(n,21,()=>e.items,fe,(i,a)=>{var s=Na(),c=x(s),g=x(c,!0);b(c),b(s),q(()=>{Z(c,"href",`${ve}/${o(a).type}/${o(a).slug}`),z(g,o(a).title)}),E(i,s)}),b(n),q(()=>Z(n,"start",r())),E(t,n)}var Ba=N("<p> </p>"),Da=N('<section><hgroup><h2> </h2> <small aria-live="polite"><!></small></hgroup> <div aria-live="polite"><!></div></section>');function Fa(t,e){re(e,!0);const r=T(e,"title",3,"Results"),n=T(e,"SearchResultsItemsComponent",3,ar);var i=Da(),a=x(i),s=x(a),c=x(s,!0);b(s);var g=L(s,2),u=x(g);{var l=y=>{var p=me();q(m=>z(p,`${m??""} found`),[()=>e.searchPagination.total.toLocaleString()]),E(y,p)},S=y=>{var p=me("No results");E(y,p)};Q(u,y=>{var p;((p=e.searchPagination)==null?void 0:p.total)!==void 0?y(l):y(S,!1)})}b(g),b(a);var f=L(a,2),d=x(f);{var h=y=>{var p=J(),m=X(p);const w=H(()=>e.searchPagination.page*e.searchPagination.per_page-e.searchPagination.per_page+1);te(m,n,(_,C)=>{C(_,{get items(){return e.searchItems},get start(){return o(w)}})}),E(y,p)},v=(y,p)=>{{var m=w=>{var _=Ba(),C=x(_);b(_),q(()=>z(C,`No results found for "${e.searchQuery??""}"`)),E(w,_)};Q(y,w=>{e.searchQuery&&!e.isSearching&&w(m)},p)}};Q(d,y=>{var p;((p=e.searchItems)==null?void 0:p.length)>0?y(h):y(v,!1)})}b(f),b(i),q(()=>{z(c,r()),Z(g,"aria-busy",e.isLoading||e.isSearching)}),Kt(3,f,()=>Fr),E(t,i),ne()}function Wa(t,e){re(e,!0),it("keydown",Lr,r=>{(r.ctrlKey||r.metaKey)&&(r.key==="k"||r.key==="K")&&(r.preventDefault(),e.onToggleSearch())}),ne()}var ja=N("<p>Loading...</p>"),qa=N("<p>Searching...</p>"),Ha=N('<p role="alert" class="error"> </p>'),Ga=N("<section><!> <!></section>");function za(t,e){var r=Ga(),n=x(r);{var i=g=>{var u=ja();Z(u,"aria-busy",!0),E(g,u)},a=(g,u)=>{{var l=S=>{var f=qa();Z(f,"aria-busy",!0),E(S,f)};Q(g,S=>{e.isSearching&&S(l)},u)}};Q(n,g=>{e.isLoading?g(i):g(a,!1)})}var s=L(n,2);{var c=g=>{var u=Ha(),l=x(u,!0);b(u),q(()=>z(l,e.searchError)),E(g,u)};Q(s,g=>{e.searchError&&g(c)})}b(r),E(t,r)}var Ka=N("<!> <article><h1> </h1> <!> <!> <!> <!> <!></article> <!>",1);function Qa(t,e){re(e,!0);const r=T(e,"SearchShortcutsComponent",3,Wa),n=T(e,"SearchStatusComponent",3,za),i=T(e,"SearchInputComponent",3,Pn),a=T(e,"SearchFiltersComponent",3,bn),s=T(e,"SearchControlsComponent",3,pn),c=T(e,"SearchResultsComponent",3,Fa),g=T(e,"SearchResultsItemsComponent",3,ar),u=T(e,"SearchPaginationComponent",3,La),l=T(e,"minSearchQueryLength",3,3);let S=se(""),f=se(1),d=se(we({}));const h=H(()=>Object.keys(o(d)).length),v=we({options:[...new Set(Object.values(e.searchConfig[e.dataSource].sortings).map(O=>O.field))],by:"",order:"asc"});let y=se("idle"),p=se(null),m=se(null),w=se(we([]));const _=H(()=>["idle","load"].includes(o(y)));let C=se(!1),K=se(!1);const j=H(()=>{var O,V;return((V=(O=o(w))==null?void 0:O.data)==null?void 0:V.aggregations)||{}}),A=H(()=>{var O,V;return((V=(O=o(w))==null?void 0:O.data)==null?void 0:V.items)||[]});let I=H(()=>{var O;return((O=o(w))==null?void 0:O.pagination)||{}});Mr(()=>{R()});function R(){o(y)!=="ready"&&(M(y,"load"),M(p,new dn,!0),o(p).onmessage=O=>{const{action:V,payload:ge}=O.data;M(m,null),V==="ready"?(M(y,"ready"),k()):V==="results"&&(M(w,ge.results,!0),M(C,!1))},o(p).onerror=O=>{M(m,"An error occurred while searching"),M(y,"ready"),console.error("Search worker error:",O)},o(p).postMessage({action:"load",payload:{basePath:ve,dataSource:e.dataSource}}))}function F(){M(K,!o(K))}function G(O){O.preventDefault(),M(f,1),M(C,!0),k()}function k(){var O;o(y)==="ready"&&((O=o(p))==null||O.postMessage({action:"search",payload:{dataSource:e.dataSource,query:o(S),page:o(f),sort:v.by?`${v.by}_${v.order}`:void 0,filters:jr(o(d))}}))}function P(){M(S,""),M(f,1),M(d,{},!0),k()}function B(O){O.preventDefault(),M(f,1),k()}function U(O){O.preventDefault(),v.order=v.order==="asc"?"desc":"asc",k()}function ee(O){M(f,O,!0),k()}function $(){M(f,1),k()}Br(()=>{setTimeout(()=>{o(p)&&(o(p).terminate(),M(p,null))},1e3)});var le=Ka(),ae=X(le);te(ae,r,(O,V)=>{V(O,{onToggleSearch:F})});var pe=L(ae,2),ie=x(pe),We=x(ie,!0);b(ie);var yt=L(ie,2);te(yt,n,(O,V)=>{V(O,{get isLoading(){return o(_)},get isSearching(){return o(C)},get searchError(){return o(m)}})});var mt=L(yt,2);te(mt,i,(O,V)=>{V(O,{get isLoading(){return o(_)},get isSearching(){return o(C)},get minSearchQueryLength(){return l()},onSearch:G,onReset:P,get searchQuery(){return o(S)},set searchQuery(ge){M(S,ge,!0)}})});var bt=L(mt,2);te(bt,s,(O,V)=>{V(O,{get isLoading(){return o(_)},get isSearching(){return o(C)},get showSearch(){return o(K)},get searchFiltersCount(){return o(h)},get sortOptions(){return v.options},get sortOrder(){return v.order},onToggleFilters:F,onSortByChange:B,onSortOrderChange:U,get sortBy(){return v.by},set sortBy(ge){v.by=ge}})});var St=L(bt,2);te(St,c,(O,V)=>{V(O,{get isLoading(){return o(_)},get isSearching(){return o(C)},get searchQuery(){return o(S)},get searchItems(){return o(A)},get searchPagination(){return o(I)},get SearchResultsItemsComponent(){return g()}})});var ir=L(St,2);te(ir,u,(O,V)=>{V(O,{get isLoading(){return o(_)},get isSearching(){return o(C)},get count(){return o(I).total},get page(){return o(I).page},get perPage(){return o(I).per_page},onPageChange:ee})}),b(pe);var sr=L(pe,2);te(sr,a,(O,V)=>{V(O,{get show(){return o(K)},get searchAggregations(){return o(j)},get searchConfig(){return e.searchConfig},get dataSource(){return e.dataSource},onClose:()=>M(K,!1),onFiltersChange:$,get searchFilters(){return o(d)},set searchFilters(ge){M(d,ge,!0)}})}),q(()=>z(We,e.title)),E(t,le),ne()}var Va=N('<section class="hero svelte-mye4q9"><h1 class="svelte-mye4q9"> </h1> <p class="svelte-mye4q9"> </p> <a role="button">About</a></section> <!>',1);function ai(t,e){re(e,!0);const r="corpus";var n=Va(),i=X(n),a=x(i),s=x(a,!0);b(a);var c=L(a,2),g=x(c,!0);b(c);var u=L(c,2);Z(u,"href",`${ve??""}/about`),b(i);var l=L(i,2);Qa(l,{get dataSource(){return r},searchConfig:Nr,title:"Explore the dataset",SearchResultsItemsComponent:hn}),q(()=>{z(s,At.siteTitle),z(g,At.siteDescription)}),E(t,n),ne()}export{ai as component};
