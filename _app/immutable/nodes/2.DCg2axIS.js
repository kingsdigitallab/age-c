var yr=Object.defineProperty;var Ft=t=>{throw TypeError(t)};var mr=(t,e,r)=>e in t?yr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ce=(t,e,r)=>mr(t,typeof e!="symbol"?e+"":e,r),ot=(t,e,r)=>e.has(t)||Ft("Cannot "+r);var G=(t,e,r)=>(ot(t,e,"read from private field"),r?r.call(t):e.get(t)),$=(t,e,r)=>e.has(t)?Ft("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Re=(t,e,r,a)=>(ot(t,e,"write to private field"),a?a.call(t,r):e.set(t,r),r),lt=(t,e,r)=>(ot(t,e,"access private method"),r);import{o as Pt,t as F,a as P,s as V,j as Kt,d as Z,p as pt,q as Nt,e as Le}from"../chunks/CV5iflCr.js";import{ao as zt,ag as Sr,aF as xr,s as ct,h as _e,at as Pr,aq as wr,a as Cr,b as Er,B as n,J as Ut,e as kr,r as Bt,f as ut,d as Oe,az as Ar,g as Xt,c as Yt,p as Ir,aG as Jt,aD as Zt,O as Tr,z as bt,aH as ft,a4 as yt,_ as Mt,aI as wt,aJ as Rr,aK as Ct,aL as Dt,aM as Or,aC as Lr,aN as Fr,ae as Nr,aO as Br,as as Mr,ak as Dr,k as Et,a8 as kt,aP as $t,ap as Wr,a2 as er,N as M,aQ as jr,ac as qr,o as m,t as j,n as w,q as T,ad as W,x as z,v as he,w as de,M as ke,ab as ne,an as Je,W as Hr,u as tr,aR as Gr,aS as Wt,aT as Qr,y as tt,aU as Vr}from"../chunks/BgNcpGkx.js";import{a as Y,s as be,r as mt,b as ht,d as rt,e as Kr,c as jt}from"../chunks/D4icOP1C.js";import{i as K}from"../chunks/QGqCYAt4.js";import{p as N,r as at}from"../chunks/Bv4CFdxZ.js";import{b as me}from"../chunks/BVfpu49r.js";import{c as oe}from"../chunks/BZHMMNVk.js";import{o as zr,a as Ur}from"../chunks/D7pwLJuj.js";import{t as rr,s as Xr,f as Yr}from"../chunks/Dw7egC_F.js";const Jr=[];function Zr(t,e=!1){return Ze(t,new Map,"",Jr)}function Ze(t,e,r,a,i=null){if(typeof t=="object"&&t!==null){var s=e.get(t);if(s!==void 0)return s;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(zt(t)){var o=Array(t.length);e.set(t,o),i!==null&&e.set(i,o);for(var u=0;u<t.length;u+=1){var v=t[u];u in t&&(o[u]=Ze(v,e,r,a))}return o}if(Sr(t)===xr){o={},e.set(t,o),i!==null&&e.set(i,o);for(var l in t)o[l]=Ze(t[l],e,r,a);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return Ze(t.toJSON(),e,r,a,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function fe(t,e){return e}function $r(t,e,r,a){for(var i=[],s=e.length,o=0;o<s;o++)Or(e[o].e,i,!0);var u=s>0&&i.length===0&&r!==null;if(u){var v=r.parentNode;Lr(v),v.append(r),a.clear(),ye(t,e[0].prev,e[s-1].next)}Fr(i,()=>{for(var l=0;l<s;l++){var c=e[l];u||(a.delete(c.k),ye(t,c.prev,c.next)),Nr(c.e,!u)}})}function le(t,e,r,a,i,s=null){var o=t,u={flags:e,items:new Map,first:null},v=(e&Jt)!==0;if(v){var l=t;o=_e?ct(Pr(l)):l.appendChild(wr())}_e&&Cr();var c=null,S=!1,h=Ut(()=>{var d=r();return zt(d)?d:d==null?[]:Zt(d)});Er(()=>{var d=n(h),f=d.length;if(S&&f===0)return;S=f===0;let y=!1;if(_e){var k=o.data===kr;k!==(f===0)&&(o=Bt(),ct(o),ut(!1),y=!0)}if(_e){for(var _=null,g,C=0;C<f;C++){if(Oe.nodeType===8&&Oe.data===Ar){o=Oe,y=!0,ut(!1);break}var p=d[C],x=a(p,C);g=ar(Oe,u,_,null,p,x,C,i,e,r),u.items.set(x,g),_=g}f>0&&ct(Bt())}_e||ea(d,u,o,i,e,a,r),s!==null&&(f===0?c?Xt(c):c=Yt(()=>s(o)):c!==null&&Ir(c,()=>{c=null})),y&&ut(!0),n(h)}),_e&&(o=Oe)}function ea(t,e,r,a,i,s,o){var b,I,X,re;var u=(i&Rr)!==0,v=(i&(Ct|wt))!==0,l=t.length,c=e.items,S=e.first,h=S,d,f=null,y,k=[],_=[],g,C,p,x;if(u)for(x=0;x<l;x+=1)g=t[x],C=s(g,x),p=c.get(C),p!==void 0&&((b=p.a)==null||b.measure(),(y??(y=new Set)).add(p));for(x=0;x<l;x+=1){if(g=t[x],C=s(g,x),p=c.get(C),p===void 0){var H=h?h.e.nodes_start:r;f=ar(H,e,f,f===null?e.first:f.next,g,C,x,a,i,o),c.set(C,f),k=[],_=[],h=f.next;continue}if(v&&ta(p,g,x,i),(p.e.f&ft)!==0&&(Xt(p.e),u&&((I=p.a)==null||I.unfix(),(y??(y=new Set)).delete(p))),p!==h){if(d!==void 0&&d.has(p)){if(k.length<_.length){var B=_[0],D;f=B.prev;var R=k[0],A=k[k.length-1];for(D=0;D<k.length;D+=1)qt(k[D],B,r);for(D=0;D<_.length;D+=1)d.delete(_[D]);ye(e,R.prev,A.next),ye(e,f,R),ye(e,A,B),h=B,f=A,x-=1,k=[],_=[]}else d.delete(p),qt(p,h,r),ye(e,p.prev,p.next),ye(e,p,f===null?e.first:f.next),ye(e,f,p),f=p;continue}for(k=[],_=[];h!==null&&h.k!==C;)(h.e.f&ft)===0&&(d??(d=new Set)).add(h),_.push(h),h=h.next;if(h===null)continue;p=h}k.push(p),f=p,h=p.next}if(h!==null||d!==void 0){for(var L=d===void 0?[]:Zt(d);h!==null;)(h.e.f&ft)===0&&L.push(h),h=h.next;var U=L.length;if(U>0){var E=(i&Jt)!==0&&l===0?r:null;if(u){for(x=0;x<U;x+=1)(X=L[x].a)==null||X.measure();for(x=0;x<U;x+=1)(re=L[x].a)==null||re.fix()}$r(e,L,E,c)}}u&&yt(()=>{var te;if(y!==void 0)for(p of y)(te=p.a)==null||te.apply()}),Mt.first=e.first&&e.first.e,Mt.last=f&&f.e}function ta(t,e,r,a){(a&Ct)!==0&&Dt(t.v,e),(a&wt)!==0?Dt(t.i,r):t.i=r}function ar(t,e,r,a,i,s,o,u,v,l){var c=(v&Ct)!==0,S=(v&Br)===0,h=c?S?Tr(i):bt(i):i,d=(v&wt)===0?o:bt(o),f={i:d,v:h,k:s,a:null,e:null,prev:r,next:a};try{return f.e=Yt(()=>u(t,h,d,l),_e),f.e.prev=r&&r.e,f.e.next=a&&a.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),a!==null&&(a.prev=f,a.e.prev=f.e),f}finally{}}function qt(t,e,r){for(var a=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,s=t.e.nodes_start;s!==a;){var o=Mr(s);i.before(s),s=o}}function ye(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function nr(t,e,r=e){var a=Dr();Pt(t,"input",i=>{var s=i?t.defaultValue:t.value;if(s=vt(t)?gt(s):s,r(s),a&&s!==(s=e())){var o=t.selectionStart,u=t.selectionEnd;t.value=s??"",u!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(u,t.value.length))}}),(_e&&t.defaultValue!==t.value||Et(e)==null&&t.value)&&r(vt(t)?gt(t.value):t.value),kt(()=>{var i=e();vt(t)&&i===gt(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}const dt=new Set;function ra(t,e,r,a,i=a){var s=r.getAttribute("type")==="checkbox",o=t;let u=!1;if(e!==null)for(var v of e)o=o[v]??(o[v]=[]);o.push(r),Pt(r,"change",()=>{var l=r.__value;s&&(l=Ht(o,l,r.checked)),i(l)},()=>i(s?[]:null)),kt(()=>{var l=a();if(_e&&r.defaultChecked!==r.checked){u=!0;return}s?(l=l||[],r.checked=l.includes(r.__value)):r.checked=$t(r.__value,l)}),Wr(()=>{var l=o.indexOf(r);l!==-1&&o.splice(l,1)}),dt.has(o)||(dt.add(o),yt(()=>{o.sort((l,c)=>l.compareDocumentPosition(c)===4?-1:1),dt.delete(o)})),yt(()=>{if(u){var l;if(s)l=Ht(o,l,r.checked);else{var c=o.find(S=>S.checked);l=c==null?void 0:c.__value}i(l)}})}function Ht(t,e,r){for(var a=new Set,i=0;i<t.length;i+=1)t[i].checked&&a.add(t[i].__value);return r||a.delete(e),Array.from(a)}function vt(t){var e=t.type;return e==="number"||e==="range"}function gt(t){return t===""?null:+t}function sr(t,e,r){if(t.multiple)return sa(t,e);for(var a of t.options){var i=Fe(a);if($t(i,e)){a.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function aa(t,e){er(()=>{var r=new MutationObserver(()=>{var a=t.__value;sr(t,a)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function na(t,e,r=e){var a=!0;Pt(t,"change",i=>{var s=i?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(s),Fe);else{var u=t.querySelector(s)??t.querySelector("option:not([disabled])");o=u&&Fe(u)}r(o)}),er(()=>{var i=e();if(sr(t,i,a),a&&i===void 0){var s=t.querySelector(":checked");s!==null&&(i=Fe(s),r(i))}t.__value=i,a=!1}),aa(t)}function sa(t,e){for(var r of t.options)r.selected=~e.indexOf(Fe(r))}function Fe(t){return"__value"in t?t.__value:t.value}function ia(t){M(t,t.v+1)}function oa(t){let e=0,r=bt(0),a;return()=>{jr()&&(n(r),kt(()=>(e===0&&(a=Et(()=>t(()=>ia(r)))),e+=1,()=>{qr().then(()=>{e-=1,e===0&&(a==null||a(),a=void 0)})})))}}var la=F('<li class="svelte-55kp84"><time class="year"> </time></li>'),ca=F('<li class="svelte-55kp84"> </li>'),ua=F('<li class="svelte-55kp84"><a> </a></li>'),fa=F('<ul class="svelte-55kp84"><li class="svelte-55kp84">Director</li> <!></ul>'),ha=F('<li class="svelte-55kp84"><a> </a></li>'),da=F('<ul class="svelte-55kp84"></ul>'),va=F('<ul class="svelte-55kp84"><!> <!></ul> <!> <!>',1),ga=F('<li class="svelte-55kp84"><a> </a></li>'),_a=F('<ul class="svelte-55kp84"><li class="svelte-55kp84">Director</li> <!></ul>'),pa=F('<li class="svelte-55kp84"><a> </a></li>'),ba=F('<ul class="svelte-55kp84"><li class="svelte-55kp84">Character</li> <!></ul>'),ya=F("<!> <!>",1),ma=F("<li><a><strong> </strong></a> <!></li>"),Sa=F("<ol></ol>");function xa(t,e){const r=N(e,"start",3,1);var a=Sa();le(a,21,()=>e.items,fe,(i,s)=>{var o=ma();const u=W(()=>n(s).type.toLowerCase());var v=w(o),l=w(v),c=w(l,!0);m(l),m(v);var S=T(v,2);{var h=f=>{var y=va(),k=z(y),_=w(k);{var g=R=>{var A=la(),L=w(A),U=w(L,!0);m(L),m(A),j(()=>{Y(L,"datetime",n(s).release.date),V(U,n(s).release.year)}),P(R,A)};K(_,R=>{var A,L;(L=(A=n(s))==null?void 0:A.release)!=null&&L.year&&R(g)})}var C=T(_,2);{var p=R=>{var A=ca(),L=w(A,!0);m(A),j(()=>V(L,n(s).production.country)),P(R,A)};K(C,R=>{var A,L;(L=(A=n(s))==null?void 0:A.production)!=null&&L.country&&R(p)})}m(k);var x=T(k,2);{var H=R=>{var A=fa(),L=T(w(A),2);le(L,17,()=>n(s).director,fe,(U,E)=>{var b=ua(),I=w(b),X=w(I);m(I),m(b),j(()=>{Y(I,"href",`${me}/biography/${n(E).slug}`),V(X,`${n(E).name??""} (${n(E).gender??""}, ${n(E).birthYear??""} - ${n(E).deathYear??""})`)}),P(U,b)}),m(A),P(R,A)};K(x,R=>{n(s).director&&n(s).director.length>0&&R(H)})}var B=T(x,2);{var D=R=>{var A=da();le(A,21,()=>n(s).character,fe,(L,U)=>{var E=ha();const b=W(()=>n(U).person);var I=w(E),X=w(I);m(I),m(E),j(()=>{var re,te,se,J,ee;Y(I,"href",`${me}/biography/${(re=n(b))==null?void 0:re.slug}`),V(X,`${((te=n(b))==null?void 0:te.name)??""}
									(${((se=n(b))==null?void 0:se.gender)??""}, ${((J=n(b))==null?void 0:J.birthYear)??""} - ${((ee=n(b))==null?void 0:ee.deathYear)??""})`)}),P(L,E)}),m(A),P(R,A)};K(B,R=>{n(s).character&&n(s).character.length>0&&R(D)})}P(f,y)},d=f=>{var y=ya(),k=z(y);{var _=p=>{var x=_a(),H=T(w(x),2);le(H,17,()=>n(s).director,fe,(B,D)=>{var R=ga(),A=w(R),L=w(A,!0);m(A),m(R),j(()=>{var U;Y(A,"href",`${me}/film/${n(D).slug}`),V(L,(U=n(D).title)==null?void 0:U.native)}),P(B,R)}),m(x),P(p,x)};K(k,p=>{n(s).director&&n(s).director.length>0&&p(_)})}var g=T(k,2);{var C=p=>{var x=ba(),H=T(w(x),2);le(H,17,()=>n(s).character,fe,(B,D)=>{var R=pa();const A=W(()=>n(D).film);var L=w(R),U=w(L,!0);m(L),m(R),j(()=>{var E,b,I;Y(L,"href",`${me}/film/${(E=n(A))==null?void 0:E.slug}`),V(U,(I=(b=n(A))==null?void 0:b.title)==null?void 0:I.native)}),P(B,R)}),m(x),P(p,x)};K(g,p=>{n(s).character&&n(s).character.length>0&&p(C)})}P(f,y)};K(S,f=>{n(u)==="film"?f(h):f(d,!1)})}m(o),j(()=>{Y(v,"href",`${me}/${n(u)}/${n(s).slug}`),V(c,n(s).title)}),P(i,o)}),m(a),j(()=>Y(a,"start",r())),P(t,a)}function Pa(t){return new Worker(""+new URL("../workers/worker-B0dNvVcq.js",import.meta.url).href,{name:t==null?void 0:t.name})}var wa=F("<option> </option>"),Ca=F('<section class="search-controls svelte-7x5ry0"><button> </button> <select name="sort-by" aria-label="Sort results by" class="svelte-7x5ry0"><option selected disabled>Sort by</option><!></select></section>');function Ea(t,e){he(e,!0);let r=N(e,"sortBy",15,"");const a=W(()=>e.isLoading||e.isSearching||e.showSearch),i=W(()=>e.isLoading||e.isSearching);var s=Ca(),o=w(s);o.__click=function(...S){var h;(h=e.onToggleFilters)==null||h.apply(this,S)};var u=w(o);m(o);var v=T(o,2);v.__change=function(...S){var h;(h=e.onSortByChange)==null||h.apply(this,S)};var l=w(v);l.value=l.__value="";var c=T(l);le(c,17,()=>e.sortOptions,fe,(S,h)=>{var d=wa(),f={},y=w(d,!0);m(d),j(()=>{f!==(f=n(h).value)&&(d.value=(d.__value=n(h).value)??""),V(y,n(h).label)}),P(S,d)}),m(v),m(s),j(()=>{o.disabled=n(a),V(u,`Filters (${e.searchFiltersCount??""})`),v.disabled=n(i)}),na(v,r),P(t,s),de()}Kt(["click","change"]);function ka(t,e,r,a){M(e,!n(e)),M(r,n(a).map(()=>n(e)),!0)}function Aa(t,e,r){e({}),r.onFiltersChange()}var Ia=(t,e,r,a)=>e(r(),n(a)),Ta=F('<li class="svelte-7id5tn"><button class="search-filters-current-filter-button secondary svelte-7id5tn"> <span aria-hidden="true">&times;</span></button></li>'),Ra=F('<input type="text" class="svelte-7id5tn">'),Oa=F('<label class="svelte-7id5tn"><input type="checkbox" class="svelte-7id5tn"> <span> </span> <small> </small></label>'),La=F('<section class="search-filters-section svelte-7id5tn"><details class="svelte-7id5tn"><summary> <small> </small></summary> <!> <fieldset class="svelte-7id5tn"></fieldset></details></section>'),Fa=F('<aside tabindex="-1" class="svelte-7id5tn"><h3>Filters</h3> <button class="close-search-filters-button svelte-7id5tn" aria-label="Close search filters"><span aria-hidden="true">&times;</span></button> <section class="search-filters-controls svelte-7id5tn"><button class="expand-search-filters-button svelte-7id5tn"> </button> <button class="clear-search-filters-button svelte-7id5tn" aria-label="Clear search filters">Clear all filters</button></section> <section class="search-filters-current-filters svelte-7id5tn"><ul class="svelte-7id5tn"></ul></section> <!> <!></aside>');function Na(t,e){he(e,!0);const r=[];let a=N(e,"searchFilters",31,()=>ke({})),i=N(e,"children",3,null);const s=W(()=>Object.keys(a()).length>0),o=W(()=>Object.entries(a()).filter(([_,g])=>g.length>0)),u=W(()=>Object.entries(e.searchConfig[e.dataSource].aggregations)),v=ke({});let l=ne(!1),c=ne(ke(n(u).map(()=>!1)));function S(_,g){_.preventDefault(),n(c)[g]=!n(c)[g]}function h(_,g){a(a()[_]=a()[_].filter(C=>C!==g),!0),e.onFiltersChange()}function d(_,g){return v[_]?g.filter(C=>C.key.toLowerCase().includes(v[_].toLowerCase())):g}var f=Z(),y=z(f);{var k=_=>{var g=Fa(),C=T(w(g),2);C.__click=function(...b){var I;(I=e.onClose)==null||I.apply(this,b)};var p=T(C,2),x=w(p);x.__click=[ka,l,c,u];var H=w(x);m(x);var B=T(x,2);B.__click=[Aa,a,e],m(p);var D=T(p,2),R=w(D);le(R,21,()=>n(o),fe,(b,I)=>{let X=()=>n(I)[0],re=()=>n(I)[1];var te=Z(),se=z(te);le(se,17,re,fe,(J,ee)=>{var ae=Ta(),ce=w(ae);ce.__click=[Ia,h,X,ee];var Pe=w(ce);Je(),m(ce),m(ae),j(()=>{Y(ce,"aria-label",`Remove filter ${X()??""} with value ${n(ee)??""}`),Y(ce,"title",`Remove filter ${X()??""} with value ${n(ee)??""}`),V(Pe,`${n(ee)??""} `)}),P(J,ae)}),P(b,te)}),m(R),m(D);var A=T(D,2);{var L=b=>{var I=Z(),X=z(I);be(X,i),P(b,I)};K(A,b=>{i()&&b(L)})}var U=T(A,2);{var E=b=>{var I=Z(),X=z(I);le(X,17,()=>n(u),fe,(re,te,se)=>{let J=()=>n(te)[0],ee=()=>n(te)[1],ae=se;var ce=La();const Pe=W(()=>d(J(),e.searchAggregations[J()].buckets));var we=w(ce),Se=w(we);Se.__click=ve=>S(ve,ae);var Ie=w(Se),Xe=T(Ie),st=w(Xe);m(Xe),m(Se);var O=T(Se,2);{var Q=ve=>{var ie=Ra();mt(ie),j((xe,ge)=>{Y(ie,"name",`search-filters-search-${J()??""}`),Y(ie,"placeholder",`Search ${xe??""} options...`),Y(ie,"aria-label",`Search ${ge??""} options...`)},[()=>ee().title.toLowerCase(),()=>ee().title.toLowerCase()]),nr(ie,()=>v[J()],xe=>v[J()]=xe),P(ve,ie)};K(O,ve=>{e.searchAggregations[J()].buckets.length>10&&ve(Q)})}var ue=T(O,2);le(ue,21,()=>n(Pe),fe,(ve,ie)=>{var xe=Oa(),ge=w(xe);mt(ge);var Rt;ge.__change=function(...Te){var Lt;(Lt=e.onFiltersChange)==null||Lt.apply(this,Te)};var it=T(ge,2),pr=w(it,!0);m(it);var Ot=T(it,2),br=w(Ot);m(Ot),m(xe),j(Te=>{Y(ge,"name",J()),Rt!==(Rt=n(ie).key)&&(ge.value=(ge.__value=n(ie).key)??""),V(pr,n(ie).key),V(br,`(${Te??""})`)},[()=>n(ie).doc_count.toLocaleString()]),ra(r,[se],ge,()=>(n(ie).key,a()[J()]),Te=>a(a()[J()]=Te,!0)),P(ve,xe)}),m(ue),m(we),m(ce),j(ve=>{we.open=n(c)[ae],V(Ie,`${ee().title??""} `),V(st,`(${ve??""})`)},[()=>e.searchAggregations[J()].buckets.length.toLocaleString()]),P(re,ce)}),P(b,I)};K(U,b=>{e.searchAggregations&&b(E)})}m(g),j(()=>{Y(x,"aria-label",`${n(l)?"Collapse":"Expand"} search filters`),V(H,`${n(l)?"Collapse":"Expand"} all filters`),B.disabled=!n(s)}),rr(3,g,()=>Xr,()=>({axis:"x"})),P(_,g)};K(y,_=>{e.show&&_(k)})}P(t,f),de()}Kt(["click","change"]);var Ba=F('<section><h2> </h2> <form><fieldset role="group"><input id="search-query" type="text"> <button type="submit">Search</button> <button type="reset" aria-label="Reset search">Reset</button></fieldset></form></section>');function Ma(t,e){he(e,!0);let r=N(e,"title",3,"Search"),a=N(e,"searchQuery",15,""),i=N(e,"minSearchQueryLength",3,3),s=W(()=>a().trim().length>=i());var o=Ba(),u=w(o),v=w(u,!0);m(u);var l=T(u,2),c=w(l),S=w(c);mt(S);var h=T(S,2),d=T(h,2);m(c),m(l),m(o),j((f,y)=>{V(v,r()),S.disabled=e.isLoading||e.isSearching,Y(S,"placeholder",f),Y(S,"aria-label",y),h.disabled=e.isLoading||!n(s),Y(h,"aria-label",n(s)?"Search":`Please enter at least ${i()} characters`),d.disabled=e.isLoading},[()=>`Enter a ${r().toLowerCase()} query...`,()=>`Enter a ${r().toLowerCase()} query...`]),pt("submit",l,function(...f){var y;(y=e.onSearch)==null||y.apply(this,f)}),pt("reset",l,function(...f){var y;(y=e.onReset)==null||y.apply(this,f)}),nr(S,a),P(t,o),de()}function Da(t){return typeof t=="function"}function Wa(t){return t!==null&&typeof t=="object"}const ja=["string","number","bigint","boolean"];function St(t){return t==null||ja.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>St(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const Ne=Symbol("box"),At=Symbol("is-writable");function qa(t){return Wa(t)&&Ne in t}function Ha(t){return q.isBox(t)&&At in t}function q(t){let e=ne(ke(t));return{[Ne]:!0,[At]:!0,get current(){return n(e)},set current(r){M(e,r,!0)}}}function Ga(t,e){const r=W(t);return e?{[Ne]:!0,[At]:!0,get current(){return n(r)},set current(a){e(a)}}:{[Ne]:!0,get current(){return t()}}}function Qa(t){return q.isBox(t)?t:Da(t)?q.with(t):q(t)}function Va(t){return Object.entries(t).reduce((e,[r,a])=>q.isBox(a)?(q.isWritableBox(a)?Object.defineProperty(e,r,{get(){return a.current},set(i){a.current=i}}):Object.defineProperty(e,r,{get(){return a.current}}),e):Object.assign(e,{[r]:a}),{})}function Ka(t){return q.isWritableBox(t)?{[Ne]:!0,get current(){return t.current}}:t}q.from=Qa;q.with=Ga;q.flatten=Va;q.readonly=Ka;q.isBox=qa;q.isWritableBox=Ha;function za(...t){return function(e){var r;for(const a of t)if(a){if(e.defaultPrevented)return;typeof a=="function"?a.call(this,e):(r=a.current)==null||r.call(this,e)}}}function Ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ee={},_t,Gt;function Xa(){if(Gt)return _t;Gt=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,u=/^\s+|\s+$/g,v=`
`,l="/",c="*",S="",h="comment",d="declaration";_t=function(y,k){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];k=k||{};var _=1,g=1;function C(E){var b=E.match(e);b&&(_+=b.length);var I=E.lastIndexOf(v);g=~I?E.length-I:g+E.length}function p(){var E={line:_,column:g};return function(b){return b.position=new x(E),D(),b}}function x(E){this.start=E,this.end={line:_,column:g},this.source=k.source}x.prototype.content=y;function H(E){var b=new Error(k.source+":"+_+":"+g+": "+E);if(b.reason=E,b.filename=k.source,b.line=_,b.column=g,b.source=y,!k.silent)throw b}function B(E){var b=E.exec(y);if(b){var I=b[0];return C(I),y=y.slice(I.length),b}}function D(){B(r)}function R(E){var b;for(E=E||[];b=A();)b!==!1&&E.push(b);return E}function A(){var E=p();if(!(l!=y.charAt(0)||c!=y.charAt(1))){for(var b=2;S!=y.charAt(b)&&(c!=y.charAt(b)||l!=y.charAt(b+1));)++b;if(b+=2,S===y.charAt(b-1))return H("End of comment missing");var I=y.slice(2,b-2);return g+=2,C(I),y=y.slice(b),g+=2,E({type:h,comment:I})}}function L(){var E=p(),b=B(a);if(b){if(A(),!B(i))return H("property missing ':'");var I=B(s),X=E({type:d,property:f(b[0].replace(t,S)),value:I?f(I[0].replace(t,S)):S});return B(o),X}}function U(){var E=[];R(E);for(var b;b=L();)b!==!1&&(E.push(b),R(E));return E}return D(),U()};function f(y){return y?y.replace(u,S):S}return _t}var Qt;function Ya(){if(Qt)return Ee;Qt=1;var t=Ee&&Ee.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=r;var e=t(Xa());function r(a,i){var s=null;if(!a||typeof a!="string")return s;var o=(0,e.default)(a),u=typeof i=="function";return o.forEach(function(v){if(v.type==="declaration"){var l=v.property,c=v.value;u?i(l,c,v):c&&(s=s||{},s[l]=c)}}),s}return Ee}var Ja=Ya();const Vt=Ua(Ja),Za=Vt.default||Vt,$a=/\d/,en=["-","_","/","."];function tn(t=""){if(!$a.test(t))return t!==t.toLowerCase()}function rn(t){const e=[];let r="",a,i;for(const s of t){const o=en.includes(s);if(o===!0){e.push(r),r="",a=void 0;continue}const u=tn(s);if(i===!1){if(a===!1&&u===!0){e.push(r),r=s,a=u;continue}if(a===!0&&u===!1&&r.length>1){const v=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=v+s,a=u;continue}}r+=s,a=u,i=o}return e.push(r),e}function ir(t){return t?rn(t).map(e=>nn(e)).join(""):""}function an(t){return sn(ir(t||""))}function nn(t){return t?t[0].toUpperCase()+t.slice(1):""}function sn(t){return t?t[0].toLowerCase()+t.slice(1):""}function Ye(t){if(!t)return{};const e={};function r(a,i){if(a.startsWith("-moz-")||a.startsWith("-webkit-")||a.startsWith("-ms-")||a.startsWith("-o-")){e[ir(a)]=i;return}if(a.startsWith("--")){e[a]=i;return}e[an(a)]=i}return Za(t,r),e}function on(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function ln(t,e){const r=RegExp(t,"g");return a=>{if(typeof a!="string")throw new TypeError(`expected an argument of type string, but got ${typeof a}`);return a.match(r)?a.replace(r,e):a}}const cn=ln(/[A-Z]/,t=>`-${t.toLowerCase()}`);function un(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${cn(e)}: ${t[e]};`).join(`
`)}function or(t={}){return un(t).replace(`
`," ")}const fn={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};or(fn);function hn(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function nt(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const a=t[r];for(const i in a){const s=e[i],o=a[i],u=typeof s=="function",v=typeof o=="function";if(u&&hn(i)){const l=s,c=o;e[i]=za(l,c)}else if(u&&v)e[i]=on(s,o);else if(i==="class"){const l=St(s),c=St(o);l&&c?e[i]=ht(s,o):l?e[i]=ht(s):c&&(e[i]=ht(o))}else if(i==="style"){const l=typeof s=="object",c=typeof o=="object",S=typeof s=="string",h=typeof o=="string";if(l&&c)e[i]={...s,...o};else if(l&&h){const d=Ye(o);e[i]={...s,...d}}else if(S&&c){const d=Ye(s);e[i]={...d,...o}}else if(S&&h){const d=Ye(s),f=Ye(o);e[i]={...d,...f}}else l?e[i]=s:c?e[i]=o:S?e[i]=s:h&&(e[i]=o)}else e[i]=o!==void 0?o:s}}return typeof e.style=="object"&&(e.style=or(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const dn=typeof window<"u"?window:void 0;function vn(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var Ae,Be;class gn{constructor(e={}){$(this,Ae);$(this,Be);const{window:r=dn,document:a=r==null?void 0:r.document}=e;r!==void 0&&(Re(this,Ae,a),Re(this,Be,oa(i=>{const s=Nt(r,"focusin",i),o=Nt(r,"focusout",i);return()=>{s(),o()}})))}get current(){var e;return(e=G(this,Be))==null||e.call(this),G(this,Ae)?vn(G(this,Ae)):null}}Ae=new WeakMap,Be=new WeakMap;new gn;function _n(t,e){switch(t){case"post":tr(e);break;case"pre":Hr(e);break}}function lr(t,e,r,a={}){const{lazy:i=!1}=a;let s=!i,o=Array.isArray(t)?[]:void 0;_n(e,()=>{const u=Array.isArray(t)?t.map(l=>l()):t();if(!s){s=!0,o=u;return}const v=Et(()=>r(u,o));return o=u,v})}function cr(t,e,r){lr(t,"post",e,r)}function pn(t,e,r){lr(t,"pre",e,r)}cr.pre=pn;var Me,pe;class bn{constructor(e){$(this,Me);$(this,pe);Re(this,Me,e),Re(this,pe,Symbol(e))}get key(){return G(this,pe)}exists(){return Gr(G(this,pe))}get(){const e=Wt(G(this,pe));if(e===void 0)throw new Error(`Context "${G(this,Me)}" not found`);return e}getOr(e){const r=Wt(G(this,pe));return r===void 0?e:r}set(e){return Qr(G(this,pe),e)}}Me=new WeakMap,pe=new WeakMap;function yn(t){tr(()=>()=>{t()})}function It({id:t,ref:e,deps:r=()=>!0,onRefChange:a,getRootNode:i}){cr([()=>t.current,r],([s])=>{const o=(i==null?void 0:i())??document,u=o==null?void 0:o.getElementById(s);u?e.current=u:e.current=null,a==null||a(e.current)}),yn(()=>{e.current=null,a==null||a(null)})}const mn="ArrowDown",ur="ArrowLeft",fr="ArrowRight",Sn="ArrowUp",xn="End",hr="Enter",Pn="Home",dr=" ";function wn(t){return window.getComputedStyle(t).getPropertyValue("direction")}function Cn(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?ur:fr,vertical:mn}[e]}function En(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?fr:ur,vertical:Sn}[e]}function kn(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Cn(t,e),prevKey:En(t,e)}}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function Ue(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function An(){}const In="data-pagination-root",Tn="data-pagination-page",Rn="data-pagination-prev",On="data-pagination-next";var De,We,je,qe,He,Ge,Qe;class Ln{constructor(e){Ce(this,"opts");$(this,De,W(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current)));$(this,We,W(()=>{const e=(this.opts.page.current-1)*this.opts.perPage.current,r=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e+1,end:r}}));$(this,je,W(()=>Bn({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current})));$(this,qe,W(()=>this.opts.page.current>1));$(this,He,W(()=>this.opts.page.current<this.totalPages));$(this,Ge,W(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current})));$(this,Qe,W(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[In]:""})));this.opts=e,It(e)}get totalPages(){return n(G(this,De))}set totalPages(e){M(G(this,De),e)}get range(){return n(G(this,We))}set range(e){M(G(this,We),e)}get pages(){return n(G(this,je))}set pages(e){M(G(this,je),e)}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll("[data-pagination-page]")):[]}getButtonNode(e){const r=this.opts.ref.current;if(r)return r.querySelector(`[data-pagination-${e}]`)}get hasPrevPage(){return n(G(this,qe))}set hasPrevPage(e){M(G(this,qe),e)}get hasNextPage(){return n(G(this,He))}set hasNextPage(e){M(G(this,He),e)}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}get snippetProps(){return n(G(this,Ge))}set snippetProps(e){M(G(this,Ge),e)}get props(){return n(G(this,Qe))}set props(e){M(G(this,Qe),e)}}De=new WeakMap,We=new WeakMap,je=new WeakMap,qe=new WeakMap,He=new WeakMap,Ge=new WeakMap,Qe=new WeakMap;var $e,Ve;class Fn{constructor(e,r){Ce(this,"opts");Ce(this,"root");$(this,$e,W(()=>this.opts.page.current.value===this.root.opts.page.current));$(this,Ve,W(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":n(G(this,$e))?"":void 0,[Tn]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,It(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===dr||e.key===hr?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):vr(e,this.opts.ref.current,this.root)}get props(){return n(G(this,Ve))}set props(e){M(G(this,Ve),e)}}$e=new WeakMap,Ve=new WeakMap;var Ke,xt,et,ze;class Nn{constructor(e,r){$(this,Ke);Ce(this,"opts");Ce(this,"root");$(this,et,W(()=>this.opts.disabled.current?!0:this.opts.type==="prev"?!this.root.hasPrevPage:this.opts.type==="next"?!this.root.hasNextPage:!1));$(this,ze,W(()=>({id:this.opts.id.current,[Rn]:this.opts.type==="prev"?"":void 0,[On]:this.opts.type==="next"?"":void 0,disabled:n(G(this,et)),onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,It(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&lt(this,Ke,xt).call(this)}onkeydown(e){e.key===dr||e.key===hr?(e.preventDefault(),lt(this,Ke,xt).call(this)):vr(e,this.opts.ref.current,this.root)}get props(){return n(G(this,ze))}set props(e){M(G(this,ze),e)}}Ke=new WeakSet,xt=function(){this.opts.type==="prev"?this.root.prevPage():this.root.nextPage()},et=new WeakMap,ze=new WeakMap;function vr(t,e,r){if(!e||!r.opts.ref.current)return;const a=r.getPageTriggerNodes(),i=r.getButtonNode("next"),s=r.getButtonNode("prev");s&&a.unshift(s),i&&a.push(i);const o=a.indexOf(e),u=wn(r.opts.ref.current),{nextKey:v,prevKey:l}=kn(u,r.opts.orientation.current),c=r.opts.loop.current;let h={[v]:o+1,[l]:o-1,[Pn]:0,[xn]:a.length-1}[t.key];if(h===void 0)return;t.preventDefault(),h<0&&c?h=a.length-1:h===a.length&&c&&(h=0);const d=a[h];d&&d.focus()}function Bn({page:t=1,totalPages:e,siblingCount:r=1}){const a=[],i=new Set([1,e]),s=3+r,o=e-2-r;if(s>o)for(let c=2;c<=e-1;c++)i.add(c);else if(t<s)for(let c=2;c<=Math.min(s,e);c++)i.add(c);else if(t>o)for(let c=e-1;c>=Math.max(o,2);c--)i.add(c);else for(let c=Math.max(t-r,2);c<=Math.min(t+r,e);c++)i.add(c);function u(c){a.push({type:"page",value:c,key:`page-${c}`})}function v(){const c=Ue();a.push({type:"ellipsis",key:`ellipsis-${c}`})}let l=0;for(const c of Array.from(i).sort((S,h)=>S-h))c-l>1&&v(),u(c),l=c;return a}const Tt=new bn("Pagination.Root");function Mn(t){return Tt.set(new Ln(t))}function Dn(t){return new Fn(t,Tt.get())}function gr(t){return new Nn(t,Tt.get())}var Wn=F("<div><!></div>");function jn(t,e){he(e,!0);let r=N(e,"id",19,Ue),a=N(e,"perPage",3,1),i=N(e,"page",15,1),s=N(e,"ref",15,null),o=N(e,"siblingCount",3,1),u=N(e,"onPageChange",3,An),v=N(e,"loop",3,!1),l=N(e,"orientation",3,"horizontal"),c=at(e,["$$slots","$$events","$$legacy","id","count","perPage","page","ref","siblingCount","onPageChange","loop","orientation","child","children"]);const S=Mn({id:q.with(()=>r()),count:q.with(()=>e.count),perPage:q.with(()=>a()),page:q.with(()=>i(),_=>{var g;i(_),(g=u())==null||g(_)}),loop:q.with(()=>v()),siblingCount:q.with(()=>o()),orientation:q.with(()=>l()),ref:q.with(()=>s(),_=>s(_))}),h=W(()=>nt(c,S.props));var d=Z(),f=z(d);{var y=_=>{var g=Z(),C=z(g),p=Ut(()=>({props:n(h),...S.snippetProps}));be(C,()=>e.child,()=>n(p)),P(_,g)},k=_=>{var g=Wn();let C;var p=w(g);be(p,()=>e.children??tt,()=>S.snippetProps),m(g),j(()=>C=rt(g,C,{...n(h)})),P(_,g)};K(f,_=>{e.child?_(y):_(k,!1)})}P(t,d),de()}var qn=F("<button><!></button>");function Hn(t,e){he(e,!0);let r=N(e,"id",19,Ue),a=N(e,"ref",15,null),i=N(e,"type",3,"button"),s=N(e,"disabled",3,!1),o=at(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const u=gr({type:"prev",id:q.with(()=>r()),ref:q.with(()=>a(),d=>a(d)),disabled:q.with(()=>!!s())}),v=W(()=>nt(o,u.props,{type:i()}));var l=Z(),c=z(l);{var S=d=>{var f=Z(),y=z(f);be(y,()=>e.child,()=>({props:n(v)})),P(d,f)},h=d=>{var f=qn();let y;var k=w(f);be(k,()=>e.children??tt),m(f),j(()=>y=rt(f,y,{...n(v)})),P(d,f)};K(c,d=>{e.child?d(S):d(h,!1)})}P(t,l),de()}var Gn=F("<button><!></button>");function Qn(t,e){he(e,!0);let r=N(e,"id",19,Ue),a=N(e,"ref",15,null),i=N(e,"type",3,"button"),s=N(e,"disabled",3,!1),o=at(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const u=gr({type:"next",id:q.with(()=>r()),ref:q.with(()=>a(),d=>a(d)),disabled:q.with(()=>!!s())}),v=W(()=>nt(o,u.props,{type:i()}));var l=Z(),c=z(l);{var S=d=>{var f=Z(),y=z(f);be(y,()=>e.child,()=>({props:n(v)})),P(d,f)},h=d=>{var f=Gn();let y;var k=w(f);be(k,()=>e.children??tt),m(f),j(()=>y=rt(f,y,{...n(v)})),P(d,f)};K(c,d=>{e.child?d(S):d(h,!1)})}P(t,l),de()}var Vn=F("<button><!></button>");function Kn(t,e){he(e,!0);let r=N(e,"id",19,Ue),a=N(e,"type",3,"button"),i=N(e,"ref",15,null),s=N(e,"disabled",3,!1),o=at(e,["$$slots","$$events","$$legacy","id","page","child","children","type","ref","disabled"]);const u=Dn({id:q.with(()=>r()),page:q.with(()=>e.page),ref:q.with(()=>i(),d=>i(d)),disabled:q.with(()=>!!s())}),v=W(()=>nt(o,u.props,{type:a()}));var l=Z(),c=z(l);{var S=d=>{var f=Z(),y=z(f);be(y,()=>e.child,()=>({props:n(v)})),P(d,f)},h=d=>{var f=Vn();let y;var k=w(f);{var _=C=>{var p=Z(),x=z(p);be(x,()=>e.children??tt),P(C,p)},g=C=>{var p=Le();j(()=>V(p,e.page.value)),P(C,p)};K(k,C=>{e.children?C(_):C(g,!1)})}m(f),j(()=>y=rt(f,y,{...n(v)})),P(d,f)};K(c,d=>{e.child?d(S):d(h,!1)})}P(t,l),de()}var zn=F('<span class="search-pagination-ellipsis">&#x2026;</span>'),Un=F('<div class="search-pagination svelte-1nlbm53"><!> <div class="search-pagination-pages svelte-1nlbm53"></div> <!></div> <p class="search-pagination-info svelte-1nlbm53"><small> </small></p>',1);function Xn(t,e){var r=Z(),a=z(r);{var i=s=>{var o=Z(),u=z(o);oe(u,()=>jn,(v,l)=>{l(v,{get count(){return e.count},get page(){return e.page},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(S,h)=>{let d=()=>h==null?void 0:h().pages,f=()=>h==null?void 0:h().range;var y=Un(),k=z(y),_=w(k);oe(_,()=>Hn,(B,D)=>{D(B,{class:"search-pagination-prev-button",children:(R,A)=>{Je();var L=Le("❮");P(R,L)},$$slots:{default:!0}})});var g=T(_,2);le(g,21,d,B=>B.key,(B,D,R,A)=>{var L=Z(),U=z(L);{var E=I=>{var X=zn();P(I,X)},b=I=>{var X=Z(),re=z(X);oe(re,()=>Kn,(te,se)=>{se(te,{get page(){return n(D)},class:"search-pagination-page",children:(J,ee)=>{Je();var ae=Le();j(()=>V(ae,n(D).value)),P(J,ae)},$$slots:{default:!0}})}),P(I,X)};K(U,I=>{n(D).type==="ellipsis"?I(E):I(b,!1)})}P(B,L)}),m(g);var C=T(g,2);oe(C,()=>Qn,(B,D)=>{D(B,{class:"search-pagination-next-button",children:(R,A)=>{Je();var L=Le("❯");P(R,L)},$$slots:{default:!0}})}),m(k);var p=T(k,2),x=w(p),H=w(x);m(x),m(p),j(()=>V(H,`Showing ${f().start??""} - ${f().end??""}`)),P(S,y)},$$slots:{default:!0}})}),P(s,o)};K(a,s=>{!e.isLoading&&!e.isSearching&&s(i)})}P(t,r)}var Yn=F("<li><a> </a></li>"),Jn=F("<ol></ol>");function _r(t,e){const r=N(e,"start",3,1);var a=Jn();le(a,21,()=>e.items,fe,(i,s)=>{var o=Yn(),u=w(o),v=w(u,!0);m(u),m(o),j(()=>{Y(u,"href",`${me}/${n(s).type}/${n(s).slug}`),V(v,n(s).title)}),P(i,o)}),m(a),j(()=>Y(a,"start",r())),P(t,a)}var Zn=F('for <span class="search-query svelte-1fa2eaa"> </span>',1),$n=F(" <!>",1),es=F("<p> </p>"),ts=F('<section><hgroup><h2> </h2> <small aria-live="polite"><!></small></hgroup> <div aria-live="polite"><!></div></section>');function rs(t,e){he(e,!0);const r=N(e,"title",3,"Results"),a=N(e,"SearchResultsItemsComponent",3,_r),i=W(()=>{var _,g;return(_=e.searchPagination)!=null&&_.page&&((g=e.searchPagination)!=null&&g.per_page)?e.searchPagination.page*e.searchPagination.per_page-e.searchPagination.per_page+1:1});var s=ts(),o=w(s),u=w(o),v=w(u,!0);m(u);var l=T(u,2),c=w(l);{var S=_=>{var g=$n(),C=z(g),p=T(C);{var x=H=>{var B=Zn(),D=T(z(B)),R=w(D,!0);m(D),j(()=>V(R,e.searchQuery)),P(H,B)};K(p,H=>{e.searchQuery&&H(x)})}j(H=>V(C,`${H??""} found `),[()=>e.searchPagination.total.toLocaleString()]),P(_,g)},h=_=>{var g=Le("No results");P(_,g)};K(c,_=>{var g;((g=e.searchPagination)==null?void 0:g.total)!==void 0?_(S):_(h,!1)})}m(l),m(o);var d=T(o,2),f=w(d);{var y=_=>{var g=Z(),C=z(g);oe(C,a,(p,x)=>{x(p,{get items(){return e.searchItems},get start(){return n(i)}})}),P(_,g)},k=(_,g)=>{{var C=p=>{var x=es(),H=w(x);m(x),j(()=>V(H,`No results found for "${e.searchQuery??""}"`)),P(p,x)};K(_,p=>{e.searchQuery&&!e.isSearching&&p(C)},g)}};K(f,_=>{var g;((g=e.searchItems)==null?void 0:g.length)>0?_(y):_(k,!1)})}m(d),m(s),j(()=>{V(v,r()),Y(l,"aria-busy",e.isLoading||e.isSearching)}),rr(3,d,()=>Yr),P(t,s),de()}function as(t,e){he(e,!0),pt("keydown",Vr,r=>{(r.ctrlKey||r.metaKey)&&(r.key==="k"||r.key==="K")&&(r.preventDefault(),e.onToggleSearch())}),de()}var ns=F("<p>Loading...</p>"),ss=F("<p>Searching...</p>"),is=F('<p role="alert" class="error"> </p>'),os=F("<section><!> <!></section>");function ls(t,e){var r=os(),a=w(r);{var i=v=>{var l=ns();Y(l,"aria-busy",!0),P(v,l)},s=(v,l)=>{{var c=S=>{var h=ss();Y(h,"aria-busy",!0),P(S,h)};K(v,S=>{e.isSearching&&S(c)},l)}};K(a,v=>{e.isLoading?v(i):v(s,!1)})}var o=T(a,2);{var u=v=>{var l=is(),c=w(l,!0);m(l),j(()=>V(c,e.searchError)),P(v,l)};K(o,v=>{e.searchError&&v(u)})}m(r),P(t,r)}var cs=F("<!> <article><h1> </h1> <!> <!> <!> <!> <!></article> <!>",1);function us(t,e){he(e,!0);const r=N(e,"SearchShortcutsComponent",3,as),a=N(e,"SearchStatusComponent",3,ls),i=N(e,"SearchInputComponent",3,Ma),s=N(e,"SearchFiltersComponent",3,Na),o=N(e,"SearchControlsComponent",3,Ea),u=N(e,"SearchResultsComponent",3,rs),v=N(e,"SearchResultsItemsComponent",3,_r),l=N(e,"SearchPaginationComponent",3,Xn),c=N(e,"minSearchQueryLength",3,3);let S=ne(""),h=ne(1),d=ne(ke({}));const f=W(()=>Object.keys(n(d)).length),y=W(()=>Object.entries(e.searchConfig[e.dataSource].sortings).map(([O,Q])=>({label:Q.label,value:O})));let k=ne(""),_=ne("idle"),g=ne(null),C=ne(null),p=ne(ke({query:"",results:[]}));const x=W(()=>["idle","load"].includes(n(_)));let H=ne(!1),B=ne(!1);const D=W(()=>{var O,Q;return((Q=(O=n(p).results)==null?void 0:O.data)==null?void 0:Q.aggregations)||{}}),R=W(()=>{var O,Q;return((Q=(O=n(p).results)==null?void 0:O.data)==null?void 0:Q.items)||[]});let A=W(()=>{var O;return((O=n(p).results)==null?void 0:O.pagination)||{}});zr(()=>{L()});function L(){n(_)!=="ready"&&(M(_,"load"),M(g,new Pa,!0),n(g).onmessage=O=>{const{action:Q,payload:ue}=O.data;M(C,null),Q==="ready"?(M(_,"ready"),b()):Q==="results"&&(M(p,{query:ue.query,results:ue.results},!0),M(H,!1))},n(g).onerror=O=>{M(C,"An error occurred while searching"),M(_,"ready"),console.error("Search worker error:",O)},n(g).postMessage({action:"load",payload:{basePath:me,dataSource:e.dataSource}}))}function U(){M(B,!n(B))}function E(O){O.preventDefault(),M(h,1),M(H,!0),b()}function b(){var O;n(_)==="ready"&&((O=n(g))==null||O.postMessage({action:"search",payload:{dataSource:e.dataSource,query:n(S),page:n(h),sort:n(k)||void 0,filters:Zr(n(d))}}))}function I(){M(S,""),M(h,1),M(d,{},!0),b()}function X(O){O.preventDefault(),M(h,1),b()}function re(O){M(h,O,!0),b()}function te(){M(d,Object.fromEntries(Object.entries(n(d)).filter(([O,Q])=>Q.length>0)),!0),M(h,1),b()}Ur(()=>{setTimeout(()=>{n(g)&&(n(g).terminate(),M(g,null))},1e3)});var se=cs(),J=z(se);oe(J,r,(O,Q)=>{Q(O,{onToggleSearch:U})});var ee=T(J,2),ae=w(ee),ce=w(ae,!0);m(ae);var Pe=T(ae,2);oe(Pe,a,(O,Q)=>{Q(O,{get isLoading(){return n(x)},get isSearching(){return n(H)},get searchError(){return n(C)}})});var we=T(Pe,2);oe(we,i,(O,Q)=>{Q(O,{get isLoading(){return n(x)},get isSearching(){return n(H)},get minSearchQueryLength(){return c()},onSearch:E,onReset:I,get searchQuery(){return n(S)},set searchQuery(ue){M(S,ue,!0)}})});var Se=T(we,2);oe(Se,o,(O,Q)=>{Q(O,{get isLoading(){return n(x)},get isSearching(){return n(H)},get showSearch(){return n(B)},get searchFiltersCount(){return n(f)},get sortOptions(){return n(y)},onToggleFilters:U,onSortByChange:X,get sortBy(){return n(k)},set sortBy(ue){M(k,ue,!0)}})});var Ie=T(Se,2);oe(Ie,u,(O,Q)=>{Q(O,{get isLoading(){return n(x)},get isSearching(){return n(H)},get searchQuery(){return n(p).query},get searchItems(){return n(R)},get searchPagination(){return n(A)},get SearchResultsItemsComponent(){return v()}})});var Xe=T(Ie,2);oe(Xe,l,(O,Q)=>{Q(O,{get isLoading(){return n(x)},get isSearching(){return n(H)},get count(){return n(A).total},get page(){return n(A).page},get perPage(){return n(A).per_page},onPageChange:re})}),m(ee);var st=T(ee,2);oe(st,s,(O,Q)=>{Q(O,{get show(){return n(B)},get searchAggregations(){return n(D)},get searchConfig(){return e.searchConfig},get dataSource(){return e.dataSource},onClose:()=>M(B,!1),onFiltersChange:te,get searchFilters(){return n(d)},set searchFilters(ue){M(d,ue,!0)}})}),j(()=>V(ce,e.title)),P(t,se),de()}var fs=F('<section class="hero svelte-ld5rx1"><h1 class="svelte-ld5rx1"> </h1> <p class="svelte-ld5rx1"> </p> <a role="button">About</a></section> <!>',1);function xs(t,e){he(e,!0);const r="corpus";var a=fs(),i=z(a),s=w(i),o=w(s,!0);m(s);var u=T(s,2),v=w(u,!0);m(u);var l=T(u,2);Y(l,"href",`${me??""}/about`),m(i);var c=T(i,2);us(c,{get dataSource(){return r},searchConfig:Kr,title:"Explore the dataset",SearchResultsItemsComponent:xa}),j(()=>{V(o,jt.siteTitle),V(v,jt.siteDescription)}),P(t,a),de()}export{xs as component};
