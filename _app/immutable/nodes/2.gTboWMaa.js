var lr=Object.defineProperty;var Et=t=>{throw TypeError(t)};var cr=(t,e,r)=>e in t?lr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var me=(t,e,r)=>cr(t,typeof e!="symbol"?e+"":e,r),tt=(t,e,r)=>e.has(t)||Et("Cannot "+r);var G=(t,e,r)=>(tt(t,e,"read from private field"),r?r.call(t):e.get(t)),ee=(t,e,r)=>e.has(t)?Et("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ee=(t,e,r,a)=>(tt(t,e,"write to private field"),a?a.call(t,r):e.set(t,r),r),rt=(t,e,r)=>(tt(t,e,"access private method"),r);import{o as _t,t as F,a as x,s as K,j as Mt,d as J,p as ft,q as Ct,e as ke}from"../chunks/C2j-l5i6.js";import{al as Dt,ah as ur,aC as fr,s as at,h as he,aq as hr,an as vr,a as dr,b as gr,B as s,J as Wt,e as _r,r as kt,f as nt,d as Ce,aw as pr,g as jt,c as qt,p as yr,aD as Ht,aA as Qt,O as br,z as ht,aE as st,a4 as vt,_ as At,aF as pt,aG as mr,aH as yt,aI as It,aJ as Sr,az as xr,aK as Pr,af as wr,aL as Er,ap as Cr,aM as kr,k as bt,a8 as mt,aN as Gt,am as Ar,a2 as zt,N as M,aO as Ir,ac as Tr,o as b,t as q,n as P,q as O,x as V,ad as Q,v as le,w as ce,M as Ke,ab as ne,ae as Ge,W as Rr,u as Kt,aP as Or,aQ as Tt,aR as Lr,y as Ye,aS as Nr}from"../chunks/UVmlV4Yz.js";import{a as U,s as de,r as Vt,b as it,d as Ue,e as Fr,c as Rt}from"../chunks/CFv7rVeF.js";import{i as X}from"../chunks/BJyl_5zF.js";import{p as N,r as Je}from"../chunks/BQgDFjg5.js";import{b as pe}from"../chunks/B1tCKief.js";import{c as se}from"../chunks/QnmZKVWG.js";import{o as Br,a as Mr}from"../chunks/otDHqS5j.js";import{t as Xt,s as Dr,f as Wr}from"../chunks/B5gYRvgv.js";const jr=[];function qr(t,e=!1){return ze(t,new Map,"",jr)}function ze(t,e,r,a,i=null){if(typeof t=="object"&&t!==null){var n=e.get(t);if(n!==void 0)return n;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Dt(t)){var o=Array(t.length);e.set(t,o),i!==null&&e.set(i,o);for(var h=0;h<t.length;h+=1){var d=t[h];h in t&&(o[h]=ze(d,e,r,a))}return o}if(ur(t)===fr){o={},e.set(t,o),i!==null&&e.set(i,o);for(var l in t)o[l]=ze(t[l],e,r,a);return o}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return ze(t.toJSON(),e,r,a,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function oe(t,e){return e}function Hr(t,e,r,a){for(var i=[],n=e.length,o=0;o<n;o++)Sr(e[o].e,i,!0);var h=n>0&&i.length===0&&r!==null;if(h){var d=r.parentNode;xr(d),d.append(r),a.clear(),_e(t,e[0].prev,e[n-1].next)}Pr(i,()=>{for(var l=0;l<n;l++){var c=e[l];h||(a.delete(c.k),_e(t,c.prev,c.next)),wr(c.e,!h)}})}function ie(t,e,r,a,i,n=null){var o=t,h={flags:e,items:new Map,first:null},d=(e&Ht)!==0;if(d){var l=t;o=he?at(hr(l)):l.appendChild(vr())}he&&dr();var c=null,S=!1,v=Wt(()=>{var u=r();return Dt(u)?u:u==null?[]:Qt(u)});gr(()=>{var u=s(v),f=u.length;if(S&&f===0)return;S=f===0;let g=!1;if(he){var I=o.data===_r;I!==(f===0)&&(o=kt(),at(o),nt(!1),g=!0)}if(he){for(var y=null,p,E=0;E<f;E++){if(Ce.nodeType===8&&Ce.data===pr){o=Ce,g=!0,nt(!1);break}var _=u[E],w=a(_,E);p=Yt(Ce,h,y,null,_,w,E,i,e,r),h.items.set(w,p),y=p}f>0&&at(kt())}he||Qr(u,h,o,i,e,a,r),n!==null&&(f===0?c?jt(c):c=qt(()=>n(o)):c!==null&&yr(c,()=>{c=null})),g&&nt(!0),s(v)}),he&&(o=Ce)}function Qr(t,e,r,a,i,n,o){var m,j,Y,te;var h=(i&mr)!==0,d=(i&(yt|pt))!==0,l=t.length,c=e.items,S=e.first,v=S,u,f=null,g,I=[],y=[],p,E,_,w;if(h)for(w=0;w<l;w+=1)p=t[w],E=n(p,w),_=c.get(E),_!==void 0&&((m=_.a)==null||m.measure(),(g??(g=new Set)).add(_));for(w=0;w<l;w+=1){if(p=t[w],E=n(p,w),_=c.get(E),_===void 0){var D=v?v.e.nodes_start:r;f=Yt(D,e,f,f===null?e.first:f.next,p,E,w,a,i,o),c.set(E,f),I=[],y=[],v=f.next;continue}if(d&&Gr(_,p,w,i),(_.e.f&st)!==0&&(jt(_.e),h&&((j=_.a)==null||j.unfix(),(g??(g=new Set)).delete(_))),_!==v){if(u!==void 0&&u.has(_)){if(I.length<y.length){var B=y[0],C;f=B.prev;var T=I[0],A=I[I.length-1];for(C=0;C<I.length;C+=1)Ot(I[C],B,r);for(C=0;C<y.length;C+=1)u.delete(y[C]);_e(e,T.prev,A.next),_e(e,f,T),_e(e,A,B),v=B,f=A,w-=1,I=[],y=[]}else u.delete(_),Ot(_,v,r),_e(e,_.prev,_.next),_e(e,_,f===null?e.first:f.next),_e(e,f,_),f=_;continue}for(I=[],y=[];v!==null&&v.k!==E;)(v.e.f&st)===0&&(u??(u=new Set)).add(v),y.push(v),v=v.next;if(v===null)continue;_=v}I.push(_),f=_,v=_.next}if(v!==null||u!==void 0){for(var L=u===void 0?[]:Qt(u);v!==null;)(v.e.f&st)===0&&L.push(v),v=v.next;var W=L.length;if(W>0){var k=(i&Ht)!==0&&l===0?r:null;if(h){for(w=0;w<W;w+=1)(Y=L[w].a)==null||Y.measure();for(w=0;w<W;w+=1)(te=L[w].a)==null||te.fix()}Hr(e,L,k,c)}}h&&vt(()=>{var Z;if(g!==void 0)for(_ of g)(Z=_.a)==null||Z.apply()}),At.first=e.first&&e.first.e,At.last=f&&f.e}function Gr(t,e,r,a){(a&yt)!==0&&It(t.v,e),(a&pt)!==0?It(t.i,r):t.i=r}function Yt(t,e,r,a,i,n,o,h,d,l){var c=(d&yt)!==0,S=(d&Er)===0,v=c?S?br(i):ht(i):i,u=(d&pt)===0?o:ht(o),f={i:u,v,k:n,a:null,e:null,prev:r,next:a};try{return f.e=qt(()=>h(t,v,u,l),he),f.e.prev=r&&r.e,f.e.next=a&&a.e,r===null?e.first=f:(r.next=f,r.e.next=f.e),a!==null&&(a.prev=f,a.e.prev=f.e),f}finally{}}function Ot(t,e,r){for(var a=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,n=t.e.nodes_start;n!==a;){var o=Cr(n);i.before(n),n=o}}function _e(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function zr(t,e,r=e){var a=kr();_t(t,"input",i=>{var n=i?t.defaultValue:t.value;if(n=lt(t)?ct(n):n,r(n),a&&n!==(n=e())){var o=t.selectionStart,h=t.selectionEnd;t.value=n??"",h!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(h,t.value.length))}}),(he&&t.defaultValue!==t.value||bt(e)==null&&t.value)&&r(lt(t)?ct(t.value):t.value),mt(()=>{var i=e();lt(t)&&i===ct(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}const ot=new Set;function Kr(t,e,r,a,i=a){var n=r.getAttribute("type")==="checkbox",o=t;let h=!1;if(e!==null)for(var d of e)o=o[d]??(o[d]=[]);o.push(r),_t(r,"change",()=>{var l=r.__value;n&&(l=Lt(o,l,r.checked)),i(l)},()=>i(n?[]:null)),mt(()=>{var l=a();if(he&&r.defaultChecked!==r.checked){h=!0;return}n?(l=l||[],r.checked=l.includes(r.__value)):r.checked=Gt(r.__value,l)}),Ar(()=>{var l=o.indexOf(r);l!==-1&&o.splice(l,1)}),ot.has(o)||(ot.add(o),vt(()=>{o.sort((l,c)=>l.compareDocumentPosition(c)===4?-1:1),ot.delete(o)})),vt(()=>{if(h){var l;if(n)l=Lt(o,l,r.checked);else{var c=o.find(S=>S.checked);l=c==null?void 0:c.__value}i(l)}})}function Lt(t,e,r){for(var a=new Set,i=0;i<t.length;i+=1)t[i].checked&&a.add(t[i].__value);return r||a.delete(e),Array.from(a)}function lt(t){var e=t.type;return e==="number"||e==="range"}function ct(t){return t===""?null:+t}function Ut(t,e,r){if(t.multiple)return Yr(t,e);for(var a of t.options){var i=Ae(a);if(Gt(i,e)){a.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Vr(t,e){zt(()=>{var r=new MutationObserver(()=>{var a=t.__value;Ut(t,a)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Xr(t,e,r=e){var a=!0;_t(t,"change",i=>{var n=i?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(n),Ae);else{var h=t.querySelector(n)??t.querySelector("option:not([disabled])");o=h&&Ae(h)}r(o)}),zt(()=>{var i=e();if(Ut(t,i,a),a&&i===void 0){var n=t.querySelector(":checked");n!==null&&(i=Ae(n),r(i))}t.__value=i,a=!1}),Vr(t)}function Yr(t,e){for(var r of t.options)r.selected=~e.indexOf(Ae(r))}function Ae(t){return"__value"in t?t.__value:t.value}function Ur(t){M(t,t.v+1)}function Jr(t){let e=0,r=ht(0),a;return()=>{Ir()&&(s(r),mt(()=>(e===0&&(a=bt(()=>t(()=>Ur(r)))),e+=1,()=>{Tr().then(()=>{e-=1,e===0&&(a==null||a(),a=void 0)})})))}}var Zr=F('<li class="svelte-55kp84"><time class="year"> </time></li>'),$r=F('<li class="svelte-55kp84"> </li>'),ea=F('<li class="svelte-55kp84"><a> </a></li>'),ta=F('<ul class="svelte-55kp84"><li class="svelte-55kp84">Director</li> <!></ul>'),ra=F('<li class="svelte-55kp84"><a> </a></li>'),aa=F('<ul class="svelte-55kp84"></ul>'),na=F('<ul class="svelte-55kp84"><!> <!></ul> <!> <!>',1),sa=F('<li class="svelte-55kp84"><a> </a></li>'),ia=F('<ul class="svelte-55kp84"><li class="svelte-55kp84">Director</li> <!></ul>'),oa=F('<li class="svelte-55kp84"><a> </a></li>'),la=F('<ul class="svelte-55kp84"><li class="svelte-55kp84">Character</li> <!></ul>'),ca=F("<!> <!>",1),ua=F("<li><a><strong> </strong></a> <!></li>"),fa=F("<ol></ol>");function ha(t,e){const r=N(e,"start",3,1);var a=fa();ie(a,21,()=>e.items,oe,(i,n)=>{var o=ua(),h=P(o),d=P(h),l=P(d,!0);b(d),b(h);var c=O(h,2);{var S=u=>{var f=na(),g=V(f),I=P(g);{var y=C=>{var T=Zr(),A=P(T),L=P(A,!0);b(A),b(T),q(()=>{U(A,"datetime",s(n).release.date),K(L,s(n).release.year)}),x(C,T)};X(I,C=>{var T,A;(A=(T=s(n))==null?void 0:T.release)!=null&&A.year&&C(y)})}var p=O(I,2);{var E=C=>{var T=$r(),A=P(T,!0);b(T),q(()=>K(A,s(n).production.country)),x(C,T)};X(p,C=>{var T,A;(A=(T=s(n))==null?void 0:T.production)!=null&&A.country&&C(E)})}b(g);var _=O(g,2);{var w=C=>{var T=ta(),A=O(P(T),2);ie(A,17,()=>s(n).director,oe,(L,W)=>{var k=ea(),m=P(k),j=P(m);b(m),b(k),q(()=>{U(m,"href",`${pe}/person/${s(W).slug}`),K(j,`${s(W).name??""} (${s(W).gender??""}, ${s(W).birthYear??""} - ${s(W).deathYear??""})`)}),x(L,k)}),b(T),x(C,T)};X(_,C=>{s(n).director&&s(n).director.length>0&&C(w)})}var D=O(_,2);{var B=C=>{var T=aa();ie(T,21,()=>s(n).character,oe,(A,L)=>{var W=ra();const k=Q(()=>s(L).person);var m=P(W),j=P(m);b(m),b(W),q(()=>{var Y,te,Z,$,re;U(m,"href",`${pe}/person/${(Y=s(k))==null?void 0:Y.slug}`),K(j,`${((te=s(k))==null?void 0:te.name)??""}
									(${((Z=s(k))==null?void 0:Z.gender)??""}, ${(($=s(k))==null?void 0:$.birthYear)??""} - ${((re=s(k))==null?void 0:re.deathYear)??""})`)}),x(A,W)}),b(T),x(C,T)};X(D,C=>{s(n).character&&s(n).character.length>0&&C(B)})}x(u,f)},v=u=>{var f=ca(),g=V(f);{var I=E=>{var _=ia(),w=O(P(_),2);ie(w,17,()=>s(n).director,oe,(D,B)=>{var C=sa(),T=P(C),A=P(T,!0);b(T),b(C),q(()=>{var L;U(T,"href",`${pe}/film/${s(B).slug}`),K(A,(L=s(B).title)==null?void 0:L.native)}),x(D,C)}),b(_),x(E,_)};X(g,E=>{s(n).director&&s(n).director.length>0&&E(I)})}var y=O(g,2);{var p=E=>{var _=la(),w=O(P(_),2);ie(w,17,()=>s(n).character,oe,(D,B)=>{var C=oa();const T=Q(()=>s(B).film);var A=P(C),L=P(A,!0);b(A),b(C),q(()=>{var W,k,m;U(A,"href",`${pe}/film/${(W=s(T))==null?void 0:W.slug}`),K(L,(m=(k=s(T))==null?void 0:k.title)==null?void 0:m.native)}),x(D,C)}),b(_),x(E,_)};X(y,E=>{s(n).character&&s(n).character.length>0&&E(p)})}x(u,f)};X(c,u=>{s(n).type==="film"?u(S):u(v,!1)})}b(o),q(()=>{U(h,"href",`${pe}/${s(n).type}/${s(n).slug}`),K(l,s(n).title)}),x(i,o)}),b(a),q(()=>U(a,"start",r())),x(t,a)}function va(t){return new Worker(""+new URL("../workers/worker-z4XQD4_Y.js",import.meta.url).href,{name:t==null?void 0:t.name})}var da=F("<option> </option>"),ga=F('<section class="search-controls svelte-7x5ry0"><button> </button> <select name="sort-by" aria-label="Sort results by" class="svelte-7x5ry0"><option selected disabled>Sort by</option><!></select></section>');function _a(t,e){le(e,!0);let r=N(e,"sortBy",15,"");const a=Q(()=>e.isLoading||e.isSearching||e.showSearch),i=Q(()=>e.isLoading||e.isSearching);var n=ga(),o=P(n);o.__click=function(...S){var v;(v=e.onToggleFilters)==null||v.apply(this,S)};var h=P(o);b(o);var d=O(o,2);d.__change=function(...S){var v;(v=e.onSortByChange)==null||v.apply(this,S)};var l=P(d);l.value=l.__value="";var c=O(l);ie(c,17,()=>e.sortOptions,oe,(S,v)=>{var u=da(),f={},g=P(u,!0);b(u),q(()=>{f!==(f=s(v).value)&&(u.value=(u.__value=s(v).value)??""),K(g,s(v).label)}),x(S,u)}),b(d),b(n),q(()=>{o.disabled=s(a),K(h,`Filters (${e.searchFiltersCount??""})`),d.disabled=s(i)}),Xr(d,r),x(t,n),ce()}Mt(["click","change"]);function pa(t,e,r){e({}),r.onFiltersChange()}var ya=(t,e)=>M(e,!s(e)),ba=(t,e,r,a)=>e(r(),s(a)),ma=F('<li class="svelte-1rtpyrp"><button class="search-filters-current-filter-button secondary svelte-1rtpyrp"> <span aria-hidden="true">&times;</span></button></li>'),Sa=F('<label class="svelte-1rtpyrp"><input type="checkbox"> <span> </span> <small> </small></label>'),xa=F('<section class="search-filters-section"><details class="svelte-1rtpyrp"><summary> </summary> <fieldset class="svelte-1rtpyrp"></fieldset></details></section>'),Pa=F('<aside tabindex="-1" class="svelte-1rtpyrp"><h3>Filters</h3> <button class="close-search-filters-button svelte-1rtpyrp" aria-label="Close search filters"><span aria-hidden="true">&times;</span></button> <section class="search-filters-controls svelte-1rtpyrp"><button class="expand-search-filters-button svelte-1rtpyrp"> </button> <button class="clear-search-filters-button svelte-1rtpyrp" aria-label="Clear search filters">Clear all filters</button></section> <section class="search-filters-current-filters svelte-1rtpyrp"><ul class="svelte-1rtpyrp"></ul></section> <!> <!></aside>');function wa(t,e){le(e,!0);const r=[];let a=N(e,"searchFilters",31,()=>Ke({})),i=N(e,"children",3,null),n=ne(!1);const o=Q(()=>Object.keys(a()).length>0),h=Q(()=>Object.entries(a()).filter(([u,f])=>f.length>0)),d=Q(()=>Object.entries(e.searchConfig[e.dataSource].aggregations));function l(u,f){a(a()[u]=a()[u].filter(g=>g!==f),!0),e.onFiltersChange()}var c=J(),S=V(c);{var v=u=>{var f=Pa(),g=O(P(f),2);g.__click=function(...A){var L;(L=e.onClose)==null||L.apply(this,A)};var I=O(g,2),y=P(I);y.__click=[ya,n];var p=P(y);b(y);var E=O(y,2);E.__click=[pa,a,e],b(I);var _=O(I,2),w=P(_);ie(w,21,()=>s(h),oe,(A,L)=>{let W=()=>s(L)[0],k=()=>s(L)[1];var m=J(),j=V(m);ie(j,17,k,oe,(Y,te)=>{var Z=ma(),$=P(Z);$.__click=[ba,l,W,te];var re=P($);Ge(),b($),b(Z),q(()=>{U($,"aria-label",`Remove filter ${W()??""} with value ${s(te)??""}`),U($,"title",`Remove filter ${W()??""} with value ${s(te)??""}`),K(re,`${s(te)??""} `)}),x(Y,Z)}),x(A,m)}),b(w),b(_);var D=O(_,2);{var B=A=>{var L=J(),W=V(L);de(W,i),x(A,L)};X(D,A=>{i()&&A(B)})}var C=O(D,2);{var T=A=>{var L=J(),W=V(L);ie(W,17,()=>s(d),oe,(k,m,j)=>{let Y=()=>s(m)[0],te=()=>s(m)[1];var Z=xa(),$=P(Z),re=P($),ye=P(re,!0);b(re);var fe=O(re,2);ie(fe,21,()=>e.searchAggregations[Y()].buckets,oe,($e,ge)=>{var be=Sa(),ue=P(be);Vt(ue);var Pe;ue.__change=function(...ae){var wt;(wt=e.onFiltersChange)==null||wt.apply(this,ae)};var we=O(ue,2),et=P(we,!0);b(we);var R=O(we,2),z=P(R);b(R),b(be),q(()=>{U(ue,"name",Y()),Pe!==(Pe=s(ge).key)&&(ue.value=(ue.__value=s(ge).key)??""),K(et,s(ge).key),K(z,`(${s(ge).doc_count??""})`)}),Kr(r,[j],ue,()=>(s(ge).key,a()[Y()]),ae=>a(a()[Y()]=ae,!0)),x($e,be)}),b(fe),b($),b(Z),q(()=>{$.open=s(n),K(ye,te().title)}),x(k,Z)}),x(A,L)};X(C,A=>{e.searchAggregations&&A(T)})}b(f),q(()=>{U(y,"aria-label",`${s(n)?"Collapse":"Expand"} search filters`),K(p,`${s(n)?"Collapse":"Expand"} all filters`),E.disabled=!s(o)}),Xt(3,f,()=>Dr,()=>({axis:"x"})),x(u,f)};X(S,u=>{e.show&&u(v)})}x(t,c),ce()}Mt(["click","change"]);var Ea=F('<section><h2> </h2> <form><fieldset role="group"><input id="search-query" type="text"> <button type="submit">Search</button> <button type="reset" aria-label="Reset search">Reset</button></fieldset></form></section>');function Ca(t,e){le(e,!0);let r=N(e,"title",3,"Search"),a=N(e,"searchQuery",15,""),i=N(e,"minSearchQueryLength",3,3),n=Q(()=>a().trim().length>=i());var o=Ea(),h=P(o),d=P(h,!0);b(h);var l=O(h,2),c=P(l),S=P(c);Vt(S);var v=O(S,2),u=O(v,2);b(c),b(l),b(o),q((f,g)=>{K(d,r()),S.disabled=e.isLoading||e.isSearching,U(S,"placeholder",f),U(S,"aria-label",g),v.disabled=e.isLoading||!s(n),U(v,"aria-label",s(n)?"Search":`Please enter at least ${i()} characters`),u.disabled=e.isLoading},[()=>`Enter a ${r().toLowerCase()} query...`,()=>`Enter a ${r().toLowerCase()} query...`]),ft("submit",l,function(...f){var g;(g=e.onSearch)==null||g.apply(this,f)}),ft("reset",l,function(...f){var g;(g=e.onReset)==null||g.apply(this,f)}),zr(S,a),x(t,o),ce()}function ka(t){return typeof t=="function"}function Aa(t){return t!==null&&typeof t=="object"}const Ia=["string","number","bigint","boolean"];function dt(t){return t==null||Ia.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>dt(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const Ie=Symbol("box"),St=Symbol("is-writable");function Ta(t){return Aa(t)&&Ie in t}function Ra(t){return H.isBox(t)&&St in t}function H(t){let e=ne(Ke(t));return{[Ie]:!0,[St]:!0,get current(){return s(e)},set current(r){M(e,r,!0)}}}function Oa(t,e){const r=Q(t);return e?{[Ie]:!0,[St]:!0,get current(){return s(r)},set current(a){e(a)}}:{[Ie]:!0,get current(){return t()}}}function La(t){return H.isBox(t)?t:ka(t)?H.with(t):H(t)}function Na(t){return Object.entries(t).reduce((e,[r,a])=>H.isBox(a)?(H.isWritableBox(a)?Object.defineProperty(e,r,{get(){return a.current},set(i){a.current=i}}):Object.defineProperty(e,r,{get(){return a.current}}),e):Object.assign(e,{[r]:a}),{})}function Fa(t){return H.isWritableBox(t)?{[Ie]:!0,get current(){return t.current}}:t}H.from=La;H.with=Oa;H.flatten=Na;H.readonly=Fa;H.isBox=Ta;H.isWritableBox=Ra;function Ba(...t){return function(e){var r;for(const a of t)if(a){if(e.defaultPrevented)return;typeof a=="function"?a.call(this,e):(r=a.current)==null||r.call(this,e)}}}function Ma(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Se={},ut,Nt;function Da(){if(Nt)return ut;Nt=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,n=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,h=/^\s+|\s+$/g,d=`
`,l="/",c="*",S="",v="comment",u="declaration";ut=function(g,I){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];I=I||{};var y=1,p=1;function E(k){var m=k.match(e);m&&(y+=m.length);var j=k.lastIndexOf(d);p=~j?k.length-j:p+k.length}function _(){var k={line:y,column:p};return function(m){return m.position=new w(k),C(),m}}function w(k){this.start=k,this.end={line:y,column:p},this.source=I.source}w.prototype.content=g;function D(k){var m=new Error(I.source+":"+y+":"+p+": "+k);if(m.reason=k,m.filename=I.source,m.line=y,m.column=p,m.source=g,!I.silent)throw m}function B(k){var m=k.exec(g);if(m){var j=m[0];return E(j),g=g.slice(j.length),m}}function C(){B(r)}function T(k){var m;for(k=k||[];m=A();)m!==!1&&k.push(m);return k}function A(){var k=_();if(!(l!=g.charAt(0)||c!=g.charAt(1))){for(var m=2;S!=g.charAt(m)&&(c!=g.charAt(m)||l!=g.charAt(m+1));)++m;if(m+=2,S===g.charAt(m-1))return D("End of comment missing");var j=g.slice(2,m-2);return p+=2,E(j),g=g.slice(m),p+=2,k({type:v,comment:j})}}function L(){var k=_(),m=B(a);if(m){if(A(),!B(i))return D("property missing ':'");var j=B(n),Y=k({type:u,property:f(m[0].replace(t,S)),value:j?f(j[0].replace(t,S)):S});return B(o),Y}}function W(){var k=[];T(k);for(var m;m=L();)m!==!1&&(k.push(m),T(k));return k}return C(),W()};function f(g){return g?g.replace(h,S):S}return ut}var Ft;function Wa(){if(Ft)return Se;Ft=1;var t=Se&&Se.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=r;var e=t(Da());function r(a,i){var n=null;if(!a||typeof a!="string")return n;var o=(0,e.default)(a),h=typeof i=="function";return o.forEach(function(d){if(d.type==="declaration"){var l=d.property,c=d.value;h?i(l,c,d):c&&(n=n||{},n[l]=c)}}),n}return Se}var ja=Wa();const Bt=Ma(ja),qa=Bt.default||Bt,Ha=/\d/,Qa=["-","_","/","."];function Ga(t=""){if(!Ha.test(t))return t!==t.toLowerCase()}function za(t){const e=[];let r="",a,i;for(const n of t){const o=Qa.includes(n);if(o===!0){e.push(r),r="",a=void 0;continue}const h=Ga(n);if(i===!1){if(a===!1&&h===!0){e.push(r),r=n,a=h;continue}if(a===!0&&h===!1&&r.length>1){const d=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=d+n,a=h;continue}}r+=n,a=h,i=o}return e.push(r),e}function Jt(t){return t?za(t).map(e=>Va(e)).join(""):""}function Ka(t){return Xa(Jt(t||""))}function Va(t){return t?t[0].toUpperCase()+t.slice(1):""}function Xa(t){return t?t[0].toLowerCase()+t.slice(1):""}function Qe(t){if(!t)return{};const e={};function r(a,i){if(a.startsWith("-moz-")||a.startsWith("-webkit-")||a.startsWith("-ms-")||a.startsWith("-o-")){e[Jt(a)]=i;return}if(a.startsWith("--")){e[a]=i;return}e[Ka(a)]=i}return qa(t,r),e}function Ya(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function Ua(t,e){const r=RegExp(t,"g");return a=>{if(typeof a!="string")throw new TypeError(`expected an argument of type string, but got ${typeof a}`);return a.match(r)?a.replace(r,e):a}}const Ja=Ua(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Za(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Ja(e)}: ${t[e]};`).join(`
`)}function Zt(t={}){return Za(t).replace(`
`," ")}const $a={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Zt($a);function en(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function Ze(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const a=t[r];for(const i in a){const n=e[i],o=a[i],h=typeof n=="function",d=typeof o=="function";if(h&&en(i)){const l=n,c=o;e[i]=Ba(l,c)}else if(h&&d)e[i]=Ya(n,o);else if(i==="class"){const l=dt(n),c=dt(o);l&&c?e[i]=it(n,o):l?e[i]=it(n):c&&(e[i]=it(o))}else if(i==="style"){const l=typeof n=="object",c=typeof o=="object",S=typeof n=="string",v=typeof o=="string";if(l&&c)e[i]={...n,...o};else if(l&&v){const u=Qe(o);e[i]={...n,...u}}else if(S&&c){const u=Qe(n);e[i]={...u,...o}}else if(S&&v){const u=Qe(n),f=Qe(o);e[i]={...u,...f}}else l?e[i]=n:c?e[i]=o:S?e[i]=n:v&&(e[i]=o)}else e[i]=o!==void 0?o:n}}return typeof e.style=="object"&&(e.style=Zt(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const tn=typeof window<"u"?window:void 0;function rn(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var xe,Te;class an{constructor(e={}){ee(this,xe);ee(this,Te);const{window:r=tn,document:a=r==null?void 0:r.document}=e;r!==void 0&&(Ee(this,xe,a),Ee(this,Te,Jr(i=>{const n=Ct(r,"focusin",i),o=Ct(r,"focusout",i);return()=>{n(),o()}})))}get current(){var e;return(e=G(this,Te))==null||e.call(this),G(this,xe)?rn(G(this,xe)):null}}xe=new WeakMap,Te=new WeakMap;new an;function nn(t,e){switch(t){case"post":Kt(e);break;case"pre":Rr(e);break}}function $t(t,e,r,a={}){const{lazy:i=!1}=a;let n=!i,o=Array.isArray(t)?[]:void 0;nn(e,()=>{const h=Array.isArray(t)?t.map(l=>l()):t();if(!n){n=!0,o=h;return}const d=bt(()=>r(h,o));return o=h,d})}function er(t,e,r){$t(t,"post",e,r)}function sn(t,e,r){$t(t,"pre",e,r)}er.pre=sn;var Re,ve;class on{constructor(e){ee(this,Re);ee(this,ve);Ee(this,Re,e),Ee(this,ve,Symbol(e))}get key(){return G(this,ve)}exists(){return Or(G(this,ve))}get(){const e=Tt(G(this,ve));if(e===void 0)throw new Error(`Context "${G(this,Re)}" not found`);return e}getOr(e){const r=Tt(G(this,ve));return r===void 0?e:r}set(e){return Lr(G(this,ve),e)}}Re=new WeakMap,ve=new WeakMap;function ln(t){Kt(()=>()=>{t()})}function xt({id:t,ref:e,deps:r=()=>!0,onRefChange:a,getRootNode:i}){er([()=>t.current,r],([n])=>{const o=(i==null?void 0:i())??document,h=o==null?void 0:o.getElementById(n);h?e.current=h:e.current=null,a==null||a(e.current)}),ln(()=>{e.current=null,a==null||a(null)})}const cn="ArrowDown",tr="ArrowLeft",rr="ArrowRight",un="ArrowUp",fn="End",ar="Enter",hn="Home",nr=" ";function vn(t){return window.getComputedStyle(t).getPropertyValue("direction")}function dn(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?tr:rr,vertical:cn}[e]}function gn(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?rr:tr,vertical:un}[e]}function _n(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:dn(t,e),prevKey:gn(t,e)}}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function He(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function pn(){}const yn="data-pagination-root",bn="data-pagination-page",mn="data-pagination-prev",Sn="data-pagination-next";var Oe,Le,Ne,Fe,Be,Me,De;class xn{constructor(e){me(this,"opts");ee(this,Oe,Q(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current)));ee(this,Le,Q(()=>{const e=(this.opts.page.current-1)*this.opts.perPage.current,r=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e+1,end:r}}));ee(this,Ne,Q(()=>En({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current})));ee(this,Fe,Q(()=>this.opts.page.current>1));ee(this,Be,Q(()=>this.opts.page.current<this.totalPages));ee(this,Me,Q(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current})));ee(this,De,Q(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[yn]:""})));this.opts=e,xt(e)}get totalPages(){return s(G(this,Oe))}set totalPages(e){M(G(this,Oe),e)}get range(){return s(G(this,Le))}set range(e){M(G(this,Le),e)}get pages(){return s(G(this,Ne))}set pages(e){M(G(this,Ne),e)}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll("[data-pagination-page]")):[]}getButtonNode(e){const r=this.opts.ref.current;if(r)return r.querySelector(`[data-pagination-${e}]`)}get hasPrevPage(){return s(G(this,Fe))}set hasPrevPage(e){M(G(this,Fe),e)}get hasNextPage(){return s(G(this,Be))}set hasNextPage(e){M(G(this,Be),e)}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}get snippetProps(){return s(G(this,Me))}set snippetProps(e){M(G(this,Me),e)}get props(){return s(G(this,De))}set props(e){M(G(this,De),e)}}Oe=new WeakMap,Le=new WeakMap,Ne=new WeakMap,Fe=new WeakMap,Be=new WeakMap,Me=new WeakMap,De=new WeakMap;var Ve,We;class Pn{constructor(e,r){me(this,"opts");me(this,"root");ee(this,Ve,Q(()=>this.opts.page.current.value===this.root.opts.page.current));ee(this,We,Q(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":s(G(this,Ve))?"":void 0,[bn]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,xt(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===nr||e.key===ar?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):sr(e,this.opts.ref.current,this.root)}get props(){return s(G(this,We))}set props(e){M(G(this,We),e)}}Ve=new WeakMap,We=new WeakMap;var je,gt,Xe,qe;class wn{constructor(e,r){ee(this,je);me(this,"opts");me(this,"root");ee(this,Xe,Q(()=>this.opts.disabled.current?!0:this.opts.type==="prev"?!this.root.hasPrevPage:this.opts.type==="next"?!this.root.hasNextPage:!1));ee(this,qe,Q(()=>({id:this.opts.id.current,[mn]:this.opts.type==="prev"?"":void 0,[Sn]:this.opts.type==="next"?"":void 0,disabled:s(G(this,Xe)),onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,xt(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&rt(this,je,gt).call(this)}onkeydown(e){e.key===nr||e.key===ar?(e.preventDefault(),rt(this,je,gt).call(this)):sr(e,this.opts.ref.current,this.root)}get props(){return s(G(this,qe))}set props(e){M(G(this,qe),e)}}je=new WeakSet,gt=function(){this.opts.type==="prev"?this.root.prevPage():this.root.nextPage()},Xe=new WeakMap,qe=new WeakMap;function sr(t,e,r){if(!e||!r.opts.ref.current)return;const a=r.getPageTriggerNodes(),i=r.getButtonNode("next"),n=r.getButtonNode("prev");n&&a.unshift(n),i&&a.push(i);const o=a.indexOf(e),h=vn(r.opts.ref.current),{nextKey:d,prevKey:l}=_n(h,r.opts.orientation.current),c=r.opts.loop.current;let v={[d]:o+1,[l]:o-1,[hn]:0,[fn]:a.length-1}[t.key];if(v===void 0)return;t.preventDefault(),v<0&&c?v=a.length-1:v===a.length&&c&&(v=0);const u=a[v];u&&u.focus()}function En({page:t=1,totalPages:e,siblingCount:r=1}){const a=[],i=new Set([1,e]),n=3+r,o=e-2-r;if(n>o)for(let c=2;c<=e-1;c++)i.add(c);else if(t<n)for(let c=2;c<=Math.min(n,e);c++)i.add(c);else if(t>o)for(let c=e-1;c>=Math.max(o,2);c--)i.add(c);else for(let c=Math.max(t-r,2);c<=Math.min(t+r,e);c++)i.add(c);function h(c){a.push({type:"page",value:c,key:`page-${c}`})}function d(){const c=He();a.push({type:"ellipsis",key:`ellipsis-${c}`})}let l=0;for(const c of Array.from(i).sort((S,v)=>S-v))c-l>1&&d(),h(c),l=c;return a}const Pt=new on("Pagination.Root");function Cn(t){return Pt.set(new xn(t))}function kn(t){return new Pn(t,Pt.get())}function ir(t){return new wn(t,Pt.get())}var An=F("<div><!></div>");function In(t,e){le(e,!0);let r=N(e,"id",19,He),a=N(e,"perPage",3,1),i=N(e,"page",15,1),n=N(e,"ref",15,null),o=N(e,"siblingCount",3,1),h=N(e,"onPageChange",3,pn),d=N(e,"loop",3,!1),l=N(e,"orientation",3,"horizontal"),c=Je(e,["$$slots","$$events","$$legacy","id","count","perPage","page","ref","siblingCount","onPageChange","loop","orientation","child","children"]);const S=Cn({id:H.with(()=>r()),count:H.with(()=>e.count),perPage:H.with(()=>a()),page:H.with(()=>i(),y=>{var p;i(y),(p=h())==null||p(y)}),loop:H.with(()=>d()),siblingCount:H.with(()=>o()),orientation:H.with(()=>l()),ref:H.with(()=>n(),y=>n(y))}),v=Q(()=>Ze(c,S.props));var u=J(),f=V(u);{var g=y=>{var p=J(),E=V(p),_=Wt(()=>({props:s(v),...S.snippetProps}));de(E,()=>e.child,()=>s(_)),x(y,p)},I=y=>{var p=An();let E;var _=P(p);de(_,()=>e.children??Ye,()=>S.snippetProps),b(p),q(()=>E=Ue(p,E,{...s(v)})),x(y,p)};X(f,y=>{e.child?y(g):y(I,!1)})}x(t,u),ce()}var Tn=F("<button><!></button>");function Rn(t,e){le(e,!0);let r=N(e,"id",19,He),a=N(e,"ref",15,null),i=N(e,"type",3,"button"),n=N(e,"disabled",3,!1),o=Je(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const h=ir({type:"prev",id:H.with(()=>r()),ref:H.with(()=>a(),u=>a(u)),disabled:H.with(()=>!!n())}),d=Q(()=>Ze(o,h.props,{type:i()}));var l=J(),c=V(l);{var S=u=>{var f=J(),g=V(f);de(g,()=>e.child,()=>({props:s(d)})),x(u,f)},v=u=>{var f=Tn();let g;var I=P(f);de(I,()=>e.children??Ye),b(f),q(()=>g=Ue(f,g,{...s(d)})),x(u,f)};X(c,u=>{e.child?u(S):u(v,!1)})}x(t,l),ce()}var On=F("<button><!></button>");function Ln(t,e){le(e,!0);let r=N(e,"id",19,He),a=N(e,"ref",15,null),i=N(e,"type",3,"button"),n=N(e,"disabled",3,!1),o=Je(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const h=ir({type:"next",id:H.with(()=>r()),ref:H.with(()=>a(),u=>a(u)),disabled:H.with(()=>!!n())}),d=Q(()=>Ze(o,h.props,{type:i()}));var l=J(),c=V(l);{var S=u=>{var f=J(),g=V(f);de(g,()=>e.child,()=>({props:s(d)})),x(u,f)},v=u=>{var f=On();let g;var I=P(f);de(I,()=>e.children??Ye),b(f),q(()=>g=Ue(f,g,{...s(d)})),x(u,f)};X(c,u=>{e.child?u(S):u(v,!1)})}x(t,l),ce()}var Nn=F("<button><!></button>");function Fn(t,e){le(e,!0);let r=N(e,"id",19,He),a=N(e,"type",3,"button"),i=N(e,"ref",15,null),n=N(e,"disabled",3,!1),o=Je(e,["$$slots","$$events","$$legacy","id","page","child","children","type","ref","disabled"]);const h=kn({id:H.with(()=>r()),page:H.with(()=>e.page),ref:H.with(()=>i(),u=>i(u)),disabled:H.with(()=>!!n())}),d=Q(()=>Ze(o,h.props,{type:a()}));var l=J(),c=V(l);{var S=u=>{var f=J(),g=V(f);de(g,()=>e.child,()=>({props:s(d)})),x(u,f)},v=u=>{var f=Nn();let g;var I=P(f);{var y=E=>{var _=J(),w=V(_);de(w,()=>e.children??Ye),x(E,_)},p=E=>{var _=ke();q(()=>K(_,e.page.value)),x(E,_)};X(I,E=>{e.children?E(y):E(p,!1)})}b(f),q(()=>g=Ue(f,g,{...s(d)})),x(u,f)};X(c,u=>{e.child?u(S):u(v,!1)})}x(t,l),ce()}var Bn=F('<span class="search-pagination-ellipsis">&#x2026;</span>'),Mn=F('<div class="search-pagination svelte-1nlbm53"><!> <div class="search-pagination-pages svelte-1nlbm53"></div> <!></div> <p class="search-pagination-info svelte-1nlbm53"><small> </small></p>',1);function Dn(t,e){var r=J(),a=V(r);{var i=n=>{var o=J(),h=V(o);se(h,()=>In,(d,l)=>{l(d,{get count(){return e.count},get page(){return e.page},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(S,v)=>{let u=()=>v==null?void 0:v().pages,f=()=>v==null?void 0:v().range;var g=Mn(),I=V(g),y=P(I);se(y,()=>Rn,(B,C)=>{C(B,{class:"search-pagination-prev-button",children:(T,A)=>{Ge();var L=ke("❮");x(T,L)},$$slots:{default:!0}})});var p=O(y,2);ie(p,21,u,B=>B.key,(B,C,T,A)=>{var L=J(),W=V(L);{var k=j=>{var Y=Bn();x(j,Y)},m=j=>{var Y=J(),te=V(Y);se(te,()=>Fn,(Z,$)=>{$(Z,{get page(){return s(C)},class:"search-pagination-page",children:(re,ye)=>{Ge();var fe=ke();q(()=>K(fe,s(C).value)),x(re,fe)},$$slots:{default:!0}})}),x(j,Y)};X(W,j=>{s(C).type==="ellipsis"?j(k):j(m,!1)})}x(B,L)}),b(p);var E=O(p,2);se(E,()=>Ln,(B,C)=>{C(B,{class:"search-pagination-next-button",children:(T,A)=>{Ge();var L=ke("❯");x(T,L)},$$slots:{default:!0}})}),b(I);var _=O(I,2),w=P(_),D=P(w);b(w),b(_),q(()=>K(D,`Showing ${f().start??""} - ${f().end??""}`)),x(S,g)},$$slots:{default:!0}})}),x(n,o)};X(a,n=>{!e.isLoading&&!e.isSearching&&n(i)})}x(t,r)}var Wn=F("<li><a> </a></li>"),jn=F("<ol></ol>");function or(t,e){const r=N(e,"start",3,1);var a=jn();ie(a,21,()=>e.items,oe,(i,n)=>{var o=Wn(),h=P(o),d=P(h,!0);b(h),b(o),q(()=>{U(h,"href",`${pe}/${s(n).type}/${s(n).slug}`),K(d,s(n).title)}),x(i,o)}),b(a),q(()=>U(a,"start",r())),x(t,a)}var qn=F('for <span class="search-query svelte-1fa2eaa"> </span>',1),Hn=F(" <!>",1),Qn=F("<p> </p>"),Gn=F('<section><hgroup><h2> </h2> <small aria-live="polite"><!></small></hgroup> <div aria-live="polite"><!></div></section>');function zn(t,e){le(e,!0);const r=N(e,"title",3,"Results"),a=N(e,"SearchResultsItemsComponent",3,or),i=Q(()=>{var y,p;return(y=e.searchPagination)!=null&&y.page&&((p=e.searchPagination)!=null&&p.per_page)?e.searchPagination.page*e.searchPagination.per_page-e.searchPagination.per_page+1:1});var n=Gn(),o=P(n),h=P(o),d=P(h,!0);b(h);var l=O(h,2),c=P(l);{var S=y=>{var p=Hn(),E=V(p),_=O(E);{var w=D=>{var B=qn(),C=O(V(B)),T=P(C,!0);b(C),q(()=>K(T,e.searchQuery)),x(D,B)};X(_,D=>{e.searchQuery&&D(w)})}q(D=>K(E,`${D??""} found `),[()=>e.searchPagination.total.toLocaleString()]),x(y,p)},v=y=>{var p=ke("No results");x(y,p)};X(c,y=>{var p;((p=e.searchPagination)==null?void 0:p.total)!==void 0?y(S):y(v,!1)})}b(l),b(o);var u=O(o,2),f=P(u);{var g=y=>{var p=J(),E=V(p);se(E,a,(_,w)=>{w(_,{get items(){return e.searchItems},get start(){return s(i)}})}),x(y,p)},I=(y,p)=>{{var E=_=>{var w=Qn(),D=P(w);b(w),q(()=>K(D,`No results found for "${e.searchQuery??""}"`)),x(_,w)};X(y,_=>{e.searchQuery&&!e.isSearching&&_(E)},p)}};X(f,y=>{var p;((p=e.searchItems)==null?void 0:p.length)>0?y(g):y(I,!1)})}b(u),b(n),q(()=>{K(d,r()),U(l,"aria-busy",e.isLoading||e.isSearching)}),Xt(3,u,()=>Wr),x(t,n),ce()}function Kn(t,e){le(e,!0),ft("keydown",Nr,r=>{(r.ctrlKey||r.metaKey)&&(r.key==="k"||r.key==="K")&&(r.preventDefault(),e.onToggleSearch())}),ce()}var Vn=F("<p>Loading...</p>"),Xn=F("<p>Searching...</p>"),Yn=F('<p role="alert" class="error"> </p>'),Un=F("<section><!> <!></section>");function Jn(t,e){var r=Un(),a=P(r);{var i=d=>{var l=Vn();U(l,"aria-busy",!0),x(d,l)},n=(d,l)=>{{var c=S=>{var v=Xn();U(v,"aria-busy",!0),x(S,v)};X(d,S=>{e.isSearching&&S(c)},l)}};X(a,d=>{e.isLoading?d(i):d(n,!1)})}var o=O(a,2);{var h=d=>{var l=Yn(),c=P(l,!0);b(l),q(()=>K(c,e.searchError)),x(d,l)};X(o,d=>{e.searchError&&d(h)})}b(r),x(t,r)}var Zn=F("<!> <article><h1> </h1> <!> <!> <!> <!> <!></article> <!>",1);function $n(t,e){le(e,!0);const r=N(e,"SearchShortcutsComponent",3,Kn),a=N(e,"SearchStatusComponent",3,Jn),i=N(e,"SearchInputComponent",3,Ca),n=N(e,"SearchFiltersComponent",3,wa),o=N(e,"SearchControlsComponent",3,_a),h=N(e,"SearchResultsComponent",3,zn),d=N(e,"SearchResultsItemsComponent",3,or),l=N(e,"SearchPaginationComponent",3,Dn),c=N(e,"minSearchQueryLength",3,3);let S=ne(""),v=ne(1),u=ne(Ke({}));const f=Q(()=>Object.keys(s(u)).length),g=Q(()=>Object.entries(e.searchConfig[e.dataSource].sortings).map(([R,z])=>({label:z.label,value:R})));let I=ne(""),y=ne("idle"),p=ne(null),E=ne(null),_=ne(Ke({query:"",results:[]}));const w=Q(()=>["idle","load"].includes(s(y)));let D=ne(!1),B=ne(!1);const C=Q(()=>{var R,z;return((z=(R=s(_).results)==null?void 0:R.data)==null?void 0:z.aggregations)||{}}),T=Q(()=>{var R,z;return((z=(R=s(_).results)==null?void 0:R.data)==null?void 0:z.items)||[]});let A=Q(()=>{var R;return((R=s(_).results)==null?void 0:R.pagination)||{}});Br(()=>{L()});function L(){s(y)!=="ready"&&(M(y,"load"),M(p,new va,!0),s(p).onmessage=R=>{const{action:z,payload:ae}=R.data;M(E,null),z==="ready"?(M(y,"ready"),m()):z==="results"&&(M(_,{query:ae.query,results:ae.results},!0),M(D,!1))},s(p).onerror=R=>{M(E,"An error occurred while searching"),M(y,"ready"),console.error("Search worker error:",R)},s(p).postMessage({action:"load",payload:{basePath:pe,dataSource:e.dataSource}}))}function W(){M(B,!s(B))}function k(R){R.preventDefault(),M(v,1),M(D,!0),m()}function m(){var R;s(y)==="ready"&&((R=s(p))==null||R.postMessage({action:"search",payload:{dataSource:e.dataSource,query:s(S),page:s(v),sort:s(I)||void 0,filters:qr(s(u))}}))}function j(){M(S,""),M(v,1),M(u,{},!0),m()}function Y(R){R.preventDefault(),M(v,1),m()}function te(R){M(v,R,!0),m()}function Z(){M(u,Object.fromEntries(Object.entries(s(u)).filter(([R,z])=>z.length>0)),!0),M(v,1),m()}Mr(()=>{setTimeout(()=>{s(p)&&(s(p).terminate(),M(p,null))},1e3)});var $=Zn(),re=V($);se(re,r,(R,z)=>{z(R,{onToggleSearch:W})});var ye=O(re,2),fe=P(ye),$e=P(fe,!0);b(fe);var ge=O(fe,2);se(ge,a,(R,z)=>{z(R,{get isLoading(){return s(w)},get isSearching(){return s(D)},get searchError(){return s(E)}})});var be=O(ge,2);se(be,i,(R,z)=>{z(R,{get isLoading(){return s(w)},get isSearching(){return s(D)},get minSearchQueryLength(){return c()},onSearch:k,onReset:j,get searchQuery(){return s(S)},set searchQuery(ae){M(S,ae,!0)}})});var ue=O(be,2);se(ue,o,(R,z)=>{z(R,{get isLoading(){return s(w)},get isSearching(){return s(D)},get showSearch(){return s(B)},get searchFiltersCount(){return s(f)},get sortOptions(){return s(g)},onToggleFilters:W,onSortByChange:Y,get sortBy(){return s(I)},set sortBy(ae){M(I,ae,!0)}})});var Pe=O(ue,2);se(Pe,h,(R,z)=>{z(R,{get isLoading(){return s(w)},get isSearching(){return s(D)},get searchQuery(){return s(_).query},get searchItems(){return s(T)},get searchPagination(){return s(A)},get SearchResultsItemsComponent(){return d()}})});var we=O(Pe,2);se(we,l,(R,z)=>{z(R,{get isLoading(){return s(w)},get isSearching(){return s(D)},get count(){return s(A).total},get page(){return s(A).page},get perPage(){return s(A).per_page},onPageChange:te})}),b(ye);var et=O(ye,2);se(et,n,(R,z)=>{z(R,{get show(){return s(B)},get searchAggregations(){return s(C)},get searchConfig(){return e.searchConfig},get dataSource(){return e.dataSource},onClose:()=>M(B,!1),onFiltersChange:Z,get searchFilters(){return s(u)},set searchFilters(ae){M(u,ae,!0)}})}),q(()=>K($e,e.title)),x(t,$),ce()}var es=F('<section class="hero svelte-ld5rx1"><h1 class="svelte-ld5rx1"> </h1> <p class="svelte-ld5rx1"> </p> <a role="button">About</a></section> <!>',1);function fs(t,e){le(e,!0);const r="corpus";var a=es(),i=V(a),n=P(i),o=P(n,!0);b(n);var h=O(n,2),d=P(h,!0);b(h);var l=O(h,2);U(l,"href",`${pe??""}/about`),b(i);var c=O(i,2);$n(c,{get dataSource(){return r},searchConfig:Fr,title:"Explore the dataset",SearchResultsItemsComponent:ha}),q(()=>{K(o,Rt.siteTitle),K(d,Rt.siteDescription)}),x(t,a),ce()}export{fs as component};
