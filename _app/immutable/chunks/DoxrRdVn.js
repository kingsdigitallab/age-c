import{L as T,Z as N,aL as U,aM as M,f as Y,e as z,aN as B,aO as K,K as j,am as g,aA as W,aB as C,aC as q,ae as G,m as P}from"./DSWlwYW2.js";import{g as H,w as Z}from"./DAFreMJN.js";import{c as J,a as Q}from"./CIfyUE52.js";import{i as V}from"./1SwrXb2J.js";const X=()=>performance.now(),m={tick:a=>requestAnimationFrame(a),now:()=>X(),tasks:new Set};function I(){const a=m.now();m.tasks.forEach(r=>{r.c(a)||(m.tasks.delete(r),r.f())}),m.tasks.size!==0&&m.tick(I)}function rr(a){let r;return m.tasks.size===0&&m.tick(I),{promise:new Promise(t=>{m.tasks.add(r={c:a,f:t})}),abort(){m.tasks.delete(r)}}}function R(a,r){Z(()=>{a.dispatchEvent(new CustomEvent(r))})}function ar(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const r=a.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function x(a){const r={},t=a.split(";");for(const e of t){const[o,n]=e.split(":");if(!o||n===void 0)break;const u=ar(o.trim());r[u]=n.trim()}return r}const tr=a=>a;function ur(a,r,t,e){var o=(a&B)!==0,n="both",u,h=r.inert,$=r.style.overflow,i,s;function w(){var d=q,f=T;W(null),C(null);try{return u??(u=t()(r,(e==null?void 0:e())??{},{direction:n}))}finally{W(d),C(f)}}var y={is_global:o,in(){r.inert=h,R(r,"introstart"),i=A(r,w(),s,1,()=>{R(r,"introend"),i==null||i.abort(),i=u=void 0,r.style.overflow=$})},out(d){r.inert=!0,R(r,"outrostart"),s=A(r,w(),i,0,()=>{R(r,"outroend"),d==null||d()})},stop:()=>{i==null||i.abort(),s==null||s.abort()}},_=T;if((_.transitions??(_.transitions=[])).push(y),H){var l=o;if(!l){for(var c=_.parent;c&&(c.f&N)!==0;)for(;(c=c.parent)&&(c.f&U)===0;);l=!c||(c.f&M)!==0}l&&Y(()=>{z(()=>y.in())})}}function A(a,r,t,e,o){var n=e===1;if(K(r)){var u,h=!1;return j(()=>{if(!h){var d=r({direction:n?"in":"out"});u=A(a,d,t,e,o)}}),{abort:()=>{h=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(t==null||t.deactivate(),!(r!=null&&r.duration))return o(),{abort:g,deactivate:g,reset:g,t:()=>e};const{delay:$=0,css:i,tick:s,easing:w=tr}=r;var y=[];if(n&&t===void 0&&(s&&s(0,1),i)){var _=x(i(0,1));y.push(_,_)}var l=()=>1-e,c=a.animate(y,{duration:$});return c.onfinish=()=>{var d=(t==null?void 0:t.t())??1-e;t==null||t.abort();var f=e-d,k=r.duration*Math.abs(f),S=[];if(k>0){var D=!1;if(i)for(var F=Math.ceil(k/16.666666666666668),b=0;b<=F;b+=1){var L=d+f*w(b/F),O=x(i(L,1-L));S.push(O),D||(D=O.overflow==="hidden")}D&&(a.style.overflow="hidden"),l=()=>{var E=c.currentTime;return d+f*w(E/k)},s&&rr(()=>{if(c.playState!=="running")return!1;var E=l();return s(E,1-E),!0})}c=a.animate(S,{duration:k,fill:"forwards"}),c.onfinish=()=>{l=()=>e,s==null||s(e,1-e),o()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=g)},deactivate:()=>{o=g},reset:()=>{e===0&&(s==null||s(1,0))},t:()=>l()}}const p={IDLE:"idle",LOAD:"load",READY:"ready",RESULTS:"results",INSIGHTS_RESULTS:"insights_results",ERROR:"error"};function er(a){return new Worker(""+new URL("../workers/worker-DIdl5vy8.js",import.meta.url).href,{name:a==null?void 0:a.name})}const v=G({worker:null,status:p.IDLE,error:null});function dr(){return v.status}function vr(){return v.error}function lr(a,r,t){const e=new er;return e.onmessage=o=>{const{action:n,payload:u}=o.data;switch(v.error=null,n){case p.LOAD:v.status=p.LOAD;break;case p.READY:v.status=p.READY;break;case p.ERROR:v.error=u,v.status=p.READY;break}},e.onerror=o=>{v.error="An error occurred while searching",v.status=p.READY,console.error("Search worker error:",o)},v.worker=e,v.status=p.LOAD,e.postMessage({action:p.LOAD,payload:{basePath:a,dataSource:r,config:t}}),e}function pr(a,r){var t=J(),e=P(t);V(e,o=>{}),Q(a,t)}const sr=a=>a;function ir(a){const r=a-1;return r*r*r+1}function _r(a,{delay:r=0,duration:t=400,easing:e=sr}={}){const o=+getComputedStyle(a).opacity;return{delay:r,duration:t,easing:e,css:n=>`opacity: ${n*o}`}}function mr(a,{delay:r=0,duration:t=400,easing:e=ir,axis:o="y"}={}){const n=getComputedStyle(a),u=+n.opacity,h=o==="y"?"height":"width",$=parseFloat(n[h]),i=o==="y"?["top","bottom"]:["left","right"],s=i.map(f=>`${f[0].toUpperCase()}${f.slice(1)}`),w=parseFloat(n[`padding${s[0]}`]),y=parseFloat(n[`padding${s[1]}`]),_=parseFloat(n[`margin${s[0]}`]),l=parseFloat(n[`margin${s[1]}`]),c=parseFloat(n[`border${s[0]}Width`]),d=parseFloat(n[`border${s[1]}Width`]);return{delay:r,duration:t,easing:e,css:f=>`overflow: hidden;opacity: ${Math.min(f*20,1)*u};${h}: ${f*$}px;padding-${i[0]}: ${f*w}px;padding-${i[1]}: ${f*y}px;margin-${i[0]}: ${f*_}px;margin-${i[1]}: ${f*l}px;border-${i[0]}-width: ${f*c}px;border-${i[1]}-width: ${f*d}px;min-${h}: 0`}}export{pr as D,p as W,vr as a,_r as f,dr as g,lr as i,mr as s,ur as t};
