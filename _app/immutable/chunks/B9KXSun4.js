import{L as T,Z as N,aL as U,aM as M,f as Y,e as z,aN as B,aO as K,K as j,am as $,aA as W,aB as C,aC as q,ae as G}from"./DSWlwYW2.js";import{g as P,w as H}from"./CQtwfJA_.js";const Z=()=>performance.now(),h={tick:a=>requestAnimationFrame(a),now:()=>Z(),tasks:new Set};function I(){const a=h.now();h.tasks.forEach(r=>{r.c(a)||(h.tasks.delete(r),r.f())}),h.tasks.size!==0&&h.tick(I)}function J(a){let r;return h.tasks.size===0&&h.tick(I),{promise:new Promise(t=>{h.tasks.add(r={c:a,f:t})}),abort(){h.tasks.delete(r)}}}function R(a,r){H(()=>{a.dispatchEvent(new CustomEvent(r))})}function Q(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const r=a.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function x(a){const r={},t=a.split(";");for(const e of t){const[n,o]=e.split(":");if(!n||o===void 0)break;const u=Q(n.trim());r[u]=o.trim()}return r}const V=a=>a;function sr(a,r,t,e){var n=(a&B)!==0,o="both",u,w=r.inert,g=r.style.overflow,i,s;function y(){var d=q,f=T;W(null),C(null);try{return u??(u=t()(r,(e==null?void 0:e())??{},{direction:o}))}finally{W(d),C(f)}}var m={is_global:n,in(){r.inert=w,R(r,"introstart"),i=b(r,y(),s,1,()=>{R(r,"introend"),i==null||i.abort(),i=u=void 0,r.style.overflow=g})},out(d){r.inert=!0,R(r,"outrostart"),s=b(r,y(),i,0,()=>{R(r,"outroend"),d==null||d()})},stop:()=>{i==null||i.abort(),s==null||s.abort()}},_=T;if((_.transitions??(_.transitions=[])).push(m),P){var l=n;if(!l){for(var c=_.parent;c&&(c.f&N)!==0;)for(;(c=c.parent)&&(c.f&U)===0;);l=!c||(c.f&M)!==0}l&&Y(()=>{z(()=>m.in())})}}function b(a,r,t,e,n){var o=e===1;if(K(r)){var u,w=!1;return j(()=>{if(!w){var d=r({direction:o?"in":"out"});u=b(a,d,t,e,n)}}),{abort:()=>{w=!0,u==null||u.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(t==null||t.deactivate(),!(r!=null&&r.duration))return n(),{abort:$,deactivate:$,reset:$,t:()=>e};const{delay:g=0,css:i,tick:s,easing:y=V}=r;var m=[];if(o&&t===void 0&&(s&&s(0,1),i)){var _=x(i(0,1));m.push(_,_)}var l=()=>1-e,c=a.animate(m,{duration:g});return c.onfinish=()=>{var d=(t==null?void 0:t.t())??1-e;t==null||t.abort();var f=e-d,k=r.duration*Math.abs(f),S=[];if(k>0){var F=!1;if(i)for(var L=Math.ceil(k/16.666666666666668),A=0;A<=L;A+=1){var D=d+f*y(A/L),O=x(i(D,1-D));S.push(O),F||(F=O.overflow==="hidden")}F&&(a.style.overflow="hidden"),l=()=>{var E=c.currentTime;return d+f*y(E/k)},s&&J(()=>{if(c.playState!=="running")return!1;var E=l();return s(E,1-E),!0})}c=a.animate(S,{duration:k,fill:"forwards"}),c.onfinish=()=>{l=()=>e,s==null||s(e,1-e),n()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=$)},deactivate:()=>{n=$},reset:()=>{e===0&&(s==null||s(1,0))},t:()=>l()}}const p={IDLE:"idle",LOAD:"load",READY:"ready",RESULTS:"results",INSIGHTS_RESULTS:"insights_results",ERROR:"error"};function X(a){return new Worker(""+new URL("../workers/worker-DIdl5vy8.js",import.meta.url).href,{name:a==null?void 0:a.name})}const v=G({worker:null,status:p.IDLE,error:null});function ir(){return v.status}function or(){return v.error}function nr(a,r,t){const e=new X;return e.onmessage=n=>{const{action:o,payload:u}=n.data;switch(v.error=null,o){case p.LOAD:v.status=p.LOAD;break;case p.READY:v.status=p.READY;break;case p.ERROR:v.error=u,v.status=p.READY;break}},e.onerror=n=>{v.error="An error occurred while searching",v.status=p.READY,console.error("Search worker error:",n)},v.worker=e,v.status=p.LOAD,e.postMessage({action:p.LOAD,payload:{basePath:a,dataSource:r,config:t}}),e}const rr=a=>a;function ar(a){const r=a-1;return r*r*r+1}function cr(a,{delay:r=0,duration:t=400,easing:e=rr}={}){const n=+getComputedStyle(a).opacity;return{delay:r,duration:t,easing:e,css:o=>`opacity: ${o*n}`}}function fr(a,{delay:r=0,duration:t=400,easing:e=ar,axis:n="y"}={}){const o=getComputedStyle(a),u=+o.opacity,w=n==="y"?"height":"width",g=parseFloat(o[w]),i=n==="y"?["top","bottom"]:["left","right"],s=i.map(f=>`${f[0].toUpperCase()}${f.slice(1)}`),y=parseFloat(o[`padding${s[0]}`]),m=parseFloat(o[`padding${s[1]}`]),_=parseFloat(o[`margin${s[0]}`]),l=parseFloat(o[`margin${s[1]}`]),c=parseFloat(o[`border${s[0]}Width`]),d=parseFloat(o[`border${s[1]}Width`]);return{delay:r,duration:t,easing:e,css:f=>`overflow: hidden;opacity: ${Math.min(f*20,1)*u};${w}: ${f*g}px;padding-${i[0]}: ${f*y}px;padding-${i[1]}: ${f*m}px;margin-${i[0]}: ${f*_}px;margin-${i[1]}: ${f*l}px;border-${i[0]}-width: ${f*c}px;border-${i[1]}-width: ${f*d}px;min-${w}: 0`}}export{p as W,or as a,cr as f,ir as g,nr as i,fr as s,sr as t};
